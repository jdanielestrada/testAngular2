<script type="text/ng-template" id="frmObservaciones.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Observaciones</h4>
    </div>
    <form name="observacionesAprobacion">
        <div class="modal-body">
            <div class="form-group">
                <label>Ingrese una observación:</label>
                <textarea rows="6" ng-model="obj_aprobacion_solicitud.observaciones" class="form-control" style=" font-size 15px; resize none; height 135px;"></textarea>
            </div>
        </div>
        <div class="modal-footer text-center">
            <button class="btn btn-mdc font-size-button" ng-click="validarObs(observacionesAprobacion.$valid)" type="submit">Guardar</button>
            <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Cancelar</button>
        </div>
    </form>
</script>

<script type="text/ng-template" id="frmPlaneacionOP.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Planeaciones OP</h4>
    </div>
    <div class="modal-body" style="background-color: #f9f9f9;">
        <div class="row">
            <div class="col-md-4" ng-repeat="item in listHPlaneacionOP" repeat-done="manage_data()">
                <div class="box" ng-class="{'box-success' : item.isSelected}">
                    <div class="box-header with-border">
                        <input type="checkbox" ng-model="item.isSelected" ng-click="select_planeacion(item)">
                        <h3 class="box-title font_size_15px"> {{item.d_plantilla}}</h3>
                    </div>
                    <div class="box-body">
                        <ul class="todo-list" id="{{item.c_h_plantilla}}" ui-sortable="sortableOptions" ng-model="item.DTPlaneacionOP">
                            <li ng-repeat="option in item.DTPlaneacionOP" style="cursor: move;">
                                <span class="text" style="font-size: 14px;">• {{option.d_grupo_servicio}}</span>
                                <span class="handle pull-right">
                                    <i class="fa fa-ellipsis-v"></i>
                                    <i class="fa fa-ellipsis-v"></i>
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="" type="submit">Guardar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmGrapics.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Graficas de operación</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <uib-tabset active="active" class="col-sm-12">
                <uib-tab index="0" ng-click="loadGraphicsEnchape()" style="color: #31708f !important;background-color: #d9edf7 !important;border: 1px solid #bce8f1;border-bottom: 0;">
                    <uib-tab-heading>
                        <span>Carga Máquinas Enchape</span>
                    </uib-tab-heading>
                    <div class="container-charts">
                        <div class="row no-margin">
                            <div>
                                <!--style="width: 70%;"-->
                                <canvas id="barChartEnchape"></canvas>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <!--<uib-tab index="2" ng-click="loadGraphicsOperariosEnchape()" style="color: #31708f !important;background-color: #d9edf7 !important;border: 1px solid #bce8f1;border-bottom: 0;">
                    <uib-tab-heading>
                        <span style="color: black;">Carga Operarios Enchape</span>
                    </uib-tab-heading>
                    <div class="container-charts">
                        <div class="row no-margin">
                            <div>
                                <canvas id="barChartOperariosEnchape"></canvas>
                            </div>
                        </div>
                    </div>
                </uib-tab>-->
                <uib-tab index="1" ng-click="loadGraphicsCorte()" style="border: 1px solid #d6e9c6;border-bottom: 0;color: #3c763d !important;background-color: #dff0d8 !important;border-color: #d6e9c6 !important;">
                    <uib-tab-heading>
                        <span>Carga Máquinas Corte</span>
                    </uib-tab-heading>
                    <div class="container-charts">
                        <div class="row no-margin">
                            <div>
                                <canvas id="barChartCorte"></canvas>
                            </div>
                        </div>
                    </div>
                </uib-tab>

                <!--<uib-tab index="3" ng-click="loadGraphicsOperariosCorte()" style="border: 1px solid #d6e9c6;border-bottom: 0;color: #3c763d !important;background-color: #dff0d8 !important;border-color: #d6e9c6 !important;">
                    <uib-tab-heading>
                        <span style="color: black;">Carga Operarios Corte </span>
                    </uib-tab-heading>
                    <div class="container-charts">
                        <div class="row no-margin">
                            <div >
                                <canvas id="barChartOperariosCorte"></canvas>
                            </div>
                        </div>
                    </div>
                </uib-tab>-->
                <!--<uib-tab index="4" ng-click="loadGraphicsOperariosOtrosSrv()">
                    <uib-tab-heading>
                        <span style="color: black;">Carga Operarios Otros Servicios </span>
                    </uib-tab-heading>
                    <div class="container-charts">
                        <div class="row no-margin">
                            <div>
                                <canvas id="barChartOperariosOtrosSrv"></canvas>
                            </div>
                        </div>
                    </div>
                </uib-tab>-->
                <uib-tab index="5" ng-click="loadGraphicsOtrosSrv()">
                    <uib-tab-heading>
                        <span>Carga Otros Servicios </span>
                    </uib-tab-heading>
                    <div class="container-charts">
                        <div class="row no-margin">
                            <div>
                                <canvas id="barChartOtrosSrv"></canvas>
                            </div>
                        </div>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="submit">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmAsignacionCorte.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;"> Asignación de corte | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">Operario</label>
                    <div class="form-inline">
                        <div class="input-group" style="display: flex">
                            <select class="form-control font_size_15px"
                                    ng-change="get_maquina_operario_global();"
                                    ng-model="obj_asignacion_global.operario_selected"
                                    ng-options="opc.operario for opc in listOperariosCorte">
                                <option value="">Seleccione operario</option>
                            </select>
                            <span class="input-group-addon btn btn-default" title="Aplicar a todos los tableros"
                                  ng-click="set_operario_tableros()">
                                <i class="fa fa-check"
                                   style="font-size: 18px;"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">Máquina</label>
                    <div class="form-inline">
                        <div class="input-group" style="display: flex">
                            <select class="form-control font_size_15px"
                                    ng-model="obj_asignacion_global.row_id_maquina"
                                    ng-change="show_rendimiento_maquina_seleccionada()"
                                    ng-options="opc.row_id as opc.d_maquina for opc in listMaquinasCorte">
                                <option value="">Seleccione maquina</option>
                            </select>
                            <span class="input-group-addon btn btn-default" title="Aplicar a todos los tableros"
                                  ng-click="set_maquina_tableros()">
                                <i class="fa fa-check"
                                   style="font-size: 18px;"></i>
                            </span>
                        </div>
                    </div>
                    <p class="help-block text-right" style="font-size: smaller;">
                        <span tooltip-placement="top"
                              uib-tooltip="Rendimiento x hora en Metros Lineales">(ML):{{obj_asignacion_global.ml_maquina_corte_seleccionada}}</span>
                        <!--<span tooltip-placement="top"
                              uib-tooltip="Rendimiento x hora en Desplazamientos Sierra">(DS):{{obj_asignacion_global.ds_maquina_corte_seleccionada}}</span>-->
                    </p>
                </div>
            </div>
        </div>
        <div class="row no-margin">
            <table class="table table-striped table-condensed table-bordered">
                <thead>
                    <tr>
                        <th title="Nro indice">#</th>
                        <th title="Número tableros">NT</th>
                        <th title="Número piezas">NP</th>
                        <th title="Metros lineales">ML</th>
                        <th class="text-center"
                            title="Desplazamiento Sierra">DS</th>
                        <th>Operario <sup>*</sup></th>
                        <th>Máquina <sup>*</sup></th>

                        <th>Fecha inicio</th>
                        <th>Fecha fin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in listTablerosCorte"
                        repeat-done="manage_data()">
                        <td class="vertical-align-middle" ng-class="{'nro-indice-con-corte-mixto' : item.corte_mixto}">
                            <span>{{item.indice = $index + 1}}</span>
                        </td>
                        <td>
                            <strong class="font_size_15px">
                                {{item.cantidad_origen | number:2}}
                            </strong>
                        </td>
                        <td>
                            <strong class="font_size_15px">
                                {{item.cantidad_piezas}}
                            </strong>
                        </td>
                        <td>
                            <strong class="font_size_15px">
                                {{item.metros_lineales_sierra | number:2}}
                            </strong>
                        </td>
                        <td>
                            <strong class="font_size_15px">
                                {{item.desplazamiento_sierra | number:2}}
                            </strong>
                        </td>
                        <td>
                            <select class="form-control font_size_15px"
                                    ng-change="get_maquina_operario(item);"
                                    ng-click="validar_cambio_corte_mixto(item)"
                                    ng-model="item.operario_selected"
                                    ng-options="opc.operario for opc in listOperariosCorte">
                                <option value="">Seleccione operario</option>
                            </select>
                        </td>
                        <td>
                            <div class="form-inline">
                                <div class="input-group" style="display: flex">
                                    <select class="form-control font_size_15px"
                                            ng-model="item.row_id_maquina"
                                            ng-click="validar_cambio_corte_mixto(item)"
                                            ng-change="change_maquina_corte_op(item)"
                                            ng-options="opc.row_id as opc.d_maquina for opc in listMaquinasCorte">
                                        <option value="">Seleccione maquina</option>
                                    </select>
                                    <span ng-if="item.cantidad_origen > 1" class="input-group-addon btn btn-default"
                                          ng-click="show_asignacion_tableros_corte(item)">
                                        <i class="fa fa-share-alt"
                                           style="font-size: 18px;"></i>
                                    </span>
                                    <span class="input-group-addon"
                                          ng-if="item.corte_mixto"
                                          title="Corte mixto">
                                        <i class="fa fa-users"
                                           style="font-size: 18px;"></i>
                                    </span>
                                </div>
                            </div>
                            <p class="help-block text-right" style="font-size: smaller;">
                                <span tooltip-placement="top"
                                      uib-tooltip="Rendimiento x hora en Metros Lineales">(ML):{{item.ml_maquina_corte_seleccionada}}</span>
                                <!--<span tooltip-placement="top"
                                      uib-tooltip="Rendimiento x hora en Desplazamientos Sierra">(DS):{{item.ds_maquina_corte_seleccionada}}</span>-->
                            </p>
                        </td>
                        <td>{{item.fh_inicio_corte | toMomentDateWithoutYear}}</td>
                        <td>{{item.fh_fin_corte | toMomentDateWithoutYear}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            <legend class="encabezado_legend"
                    ng-if="show_title_corte_mixto()"
                    style="font-size: 16px !important;">Asignación de corte mixto</legend>
            <div ng-repeat="item in listTablerosCorte" ng-show="item.listAsignacionTableros.length > 0">
                <div class="col-md-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-green nro-indice-corte-mixto"
                              title="Indice tabla principal">
                            {{item.indice}}
                        </span>
                        <div class="info-box-content dt-corte-mixto">
                            <table class="table table-striped table-condensed table-bordered"
                                   style="font-size: 12px;">
                                <thead>
                                    <tr>
                                        <th title="Número de tableros">NT</th>
                                        <th title="Número de piezas">NP</th>
                                        <th title="Metros lineales">ML</th>
                                        <th title="Desplazamiento Sierra">DS</th>
                                        <th>Operario</th>
                                        <th>Máquina</th>

                                        <th>Fecha Inicio</th>
                                        <th>Fecha Fin</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="option in item.listAsignacionTableros">
                                        <td>{{option.cantidad | number:2}}</td>
                                        <td>{{option.cantidad_piezas}}</td>
                                        <td>{{option.metros_lineales_sierra | number:2}}</td>
                                        <td>{{option.desplazamiento_sierra | number:2}}</td>
                                        <td>{{option.operario_selected.operario}}</td>
                                        <td>{{option.maquina_selected.d_maquina}}</td>
                                        <td>{{option.fh_inicio | toMomentDateWithoutYear}}</td>
                                        <td>{{option.fh_fin | toMomentDateWithoutYear}}</td>
                                    </tr>
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="validar_asignacion()" type="submit">Finalizar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Cancelar</button>
    </div>

</script>

<script type="text/ng-template" id="frmAsignacionTableros.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Asignación de tableros | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin text-center">
            <a class="btn-app btn-cant-tableros">
                <strong>
                    {{data_tableros.cantidad}}
                </strong><br />
                <span>
                    Número Tableros
                </span>
            </a>
            <a class="btn-app btn-cant-tableros"
               title="Primero en entrar, Primero en salir">
                <strong>
                    {{data_tableros.cantidad_piezas}}
                </strong><br />
                <span>
                    Número Piezas
                </span>
            </a>
        </div>
        <div class="row no-margin">
            <table class="table table-striped table-condensed table-bordered">
                <thead style="font-size: 14px;">
                    <tr>
                        <th style="width: 91px;"></th>
                        <th title="Nro indice">#</th>
                        <th class="text-center"
                            style="width: 108px;"
                            title="Número de tableros">Cant. asignada</th>
                        <th title="Número piezas">NP</th>
                        <th title="Metros lineales">ML</th>
                        <th class="text-center"
                            title="Desplazamiento Sierra">DS</th>
                        <th>Operario <sup>*</sup></th>
                        <th>Máquina <sup>*</sup></th>
                        <th>Fecha inicio</th>
                        <th>Fecha fin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in listTablerosAsignacion">
                        <td>
                            <button type="button"
                                    class="btn btn-mdc"
                                    ng-click="deleteAsignacion(item)"
                                    title="Eliminar esta asignación">
                                <i class="fa fa-trash-o"></i>
                            </button>
                            <button type="button"
                                    class="btn btn-mdc"
                                    ng-click="insertAsignacion()"
                                    style="margin-bottom 10px;"
                                    title="Asignar más tableros">
                                <i class="fa fa-plus"></i>
                            </button>
                        </td>
                        <td><span>{{item.indice = $index + 1}}</span></td>
                        <td>
                            <input class="form-control text-center font_size_15px"
                                   min="1"
                                   ng-change="update_nro_piezas_tableros(item)"
                                   ng-model="item.cantidad"
                                   step="1"
                                   type="number" />
                        </td>
                        <td>
                            <strong class="font_size_15px">
                                {{item.cantidad_piezas | number:2}}
                            </strong>
                        </td>
                        <td>
                            <strong class="font_size_15px">
                                {{item.metros_lineales_sierra | number:2}}
                            </strong>
                        </td>
                        <td>
                            <strong class="font_size_15px">
                                {{item.desplazamiento_sierra | number:2}}
                            </strong>
                        </td>
                        <td>
                            <select class="form-control font_size_15px"
                                    ng-change="get_maquina_operario(item);"
                                    ng-model="item.operario_selected"
                                    ng-options="opc.operario for opc in listOperariosCorte">
                                <option value="">Seleccione operario</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control font_size_15px"
                                    ng-change="change_maquina_corte(item)"
                                    ng-model="item.row_id_maquina"
                                    ng-options="opc.row_id as opc.d_maquina for opc in listMaquinasCorte">
                                <option value="">Seleccione maquina</option>
                            </select>
                            <p class="help-block text-right" style="font-size: smaller;">
                                <span tooltip-placement="top"
                                      uib-tooltip="Rendimiento x hora en Metros Lineales">(ML):{{item.ml_maquina_corte_seleccionada}}</span>
                                <!--<span tooltip-placement="top"
                                      uib-tooltip="Rendimiento x hora en Desplazamientos Sierra">(DS):{{item.ds_maquina_corte_seleccionada}}</span>-->
                            </p>
                        </td>
                        <td>{{item.fh_inicio_corte | toMomentDateWithoutYear}}</td>
                        <td>{{item.fh_fin_corte | toMomentDateWithoutYear}}</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td ng-class="{'success-cantidad-tablero-asignada' : data_tableros.cont_tableros_asignados == data_tableros.cantidad, 'warning-cantidad-tablero-asignada' : data_tableros.cont_tableros_asignados < data_tableros.cantidad ,'danger-cantidad-tablero-asignada' : data_tableros.cont_tableros_asignados > data_tableros.cantidad}" title="Cantidad Total Asignada">
                            Total:<br />
                            <strong style="font-size: 20px;">
                                {{data_tableros.cont_tableros_asignados}}
                            </strong>
                        </td>
                        <td ng-class="{'success-cantidad-tablero-asignada' : data_tableros.cont_tableros_asignados == data_tableros.cantidad, 'warning-cantidad-tablero-asignada' : data_tableros.cont_tableros_asignados < data_tableros.cantidad ,'danger-cantidad-tablero-asignada' : data_tableros.cont_tableros_asignados > data_tableros.cantidad}" title="Número de piezas totales">
                            NPT:<br />
                            <strong style="font-size: 20px;">
                                {{data_tableros.cont_cantidad_piezas_asignadas}}
                            </strong>
                        </td>
                        <td colspan="7"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="validar_asignacion()" type="submit">Guardar y Continuar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Cancelar</button>
    </div>

</script>

<script type="text/ng-template" id="pagination.custom.html">
    <nav ng-if="pages.length >= 2">
        <ul class="pagination" style="margin: 5px;">
            <li>
                <a ng-click="selectPage(1)" style="cursor: pointer;">Primera</a>
            </li>
            <li>
                <a ng-click="selectPage(currentPage - 1)" style="cursor: pointer;">&lt;</a>
            </li>
            <li>
                <a><page-select></page-select> de {{numPages}}</a>
            </li>
            <li>
                <a ng-click="selectPage(currentPage + 1)" style="cursor: pointer;">&gt;</a>
            </li>
            <li><a ng-click="selectPage(numPages)" style="cursor: pointer;">Última</a></li>
        </ul>
    </nav>
</script>

<script type="text/ng-template" id="frmAsignacionEnchape.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Asignación de enchape | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body">
        <!--<div class="row" ng-if="data_solicitud.sw_tiempos_cruzados">
            <div class="alert alert-warning font_size_17px" role="alert">
                <strong>Conflicto en tiempos de servicio:</strong>
                Debe programar nuevamente la asignación que se encuentra resaltada.<br />
                Los tiempos de inicio de cada asignación deben ser superior al siguiente tiempo: <strong>{{data_solicitud.fh_fin_corte | toMomentDateWithoutYear}}</strong>
            </div>
        </div>-->
        <div class="row no-margin">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">Operario</label>
                    <div class="form-inline">
                        <div class="input-group" style="display: flex">
                            <select class="form-control font_size_15px"
                                    ng-change="get_maquina_operario_global();"
                                    ng-model="obj_asignacion_global.operario_selected"
                                    ng-options="opc.operario for opc in listOperariosEnchape">
                                <option value="">Seleccione operario</option>
                            </select>
                            <span class="input-group-addon btn btn-default" title="Aplicar a todos los tableros"
                                  ng-click="set_operario_enchape()">
                                <i class="fa fa-check"
                                   style="font-size: 18px;"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">Máquina</label>
                    <div class="form-inline">
                        <div class="input-group" style="display: flex">
                            <select class="form-control font_size_15px"
                                    ng-change="show_rendimiento_maquina_seleccionada()"
                                    ng-model="obj_asignacion_global.row_id_maquina"
                                    ng-options="opc.row_id as opc.d_maquina for opc in listMaquinasEnchape">
                                <option value="">Seleccione maquina</option>
                            </select>
                            <span class="input-group-addon btn btn-default" title="Aplicar a todos los tableros"
                                  ng-click="set_maquina_enchape()">
                                <i class="fa fa-check"
                                   style="font-size: 18px;"></i>
                            </span>
                        </div>
                    </div>
                    <p class="help-block text-right">
                        <span tooltip-placement="top"
                              uib-tooltip="Rendimiento x hora en Metros Lineales">(ML):{{obj_asignacion_global.ml_maquina_enchape_seleccionada}}</span>
                    </p>
                </div>
            </div>
        </div>
        <div class="row no-margin">
            <table class="table table-striped table-condensed table-bordered">
                <thead>
                    <tr>
                        <th title="Nro indice">#</th>
                        <th title="Metros lineales">ML</th>
                        <th title="Referencia Producto">Ref</th>
                        <th title="Descripción Referencia">Descripción</th>
                        <th>Operario <sup>*</sup></th>
                        <th>Máquina <sup>*</sup></th>

                        <th>Fecha inicio</th>
                        <th>Fecha fin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in listCantosEnchape"
                        repeat-done="manage_data()">
                        <td class="vertical-align-middle" ng-class="{'nro-indice-con-corte-mixto' : item.enchape_mixto}">
                            <span>{{item.indice}}</span>
                        </td>
                        <td>
                            <strong class="font_size_15px">
                                {{item.cantidad_origen | number:2}}
                            </strong>
                        </td>
                        <td>
                            <span style="font-size:12px">
                                {{item.referencia_producto}}
                            </span>
                        </td>
                        <td>
                            <span style="font-size:12px">
                                {{item.descripcion_referencia}}
                            </span>
                        </td>
                        <td>
                            <select class="form-control font_size_15px"
                                    ng-change="get_maquina_operario(item);"
                                    ng-click="validar_cambio_enchape_mixto(item)"
                                    ng-model="item.operario_selected"
                                    ng-options="opc.operario for opc in listOperariosEnchape">
                                <option value="">Seleccione operario</option>
                            </select>
                        </td>
                        <td>
                            <div class="form-inline">
                                <div class="input-group" style="display: flex">
                                    <select class="form-control font_size_15px"
                                            ng-model="item.row_id_maquina"
                                            ng-click="validar_cambio_enchape_mixto(item)"
                                            ng-change="change_maquina_enchape(item)"
                                            ng-options="opc.row_id as opc.d_maquina for opc in listMaquinasEnchape">
                                        <option value="">Seleccione maquina</option>
                                    </select>
                                    <span ng-if="item.cantidad_origen > 1" class="input-group-addon btn btn-default"
                                          ng-click="show_asignacion_enchape_canto(item)">
                                        <i class="fa fa-share-alt"
                                           style="font-size: 18px;"></i>
                                    </span>
                                    <span class="input-group-addon"
                                          ng-if="item.enchape_mixto"
                                          title="Corte mixto">
                                        <i class="fa fa-users"
                                           style="font-size: 18px;"></i>
                                    </span>
                                </div>
                            </div>
                            <p class="help-block text-right">
                                <span tooltip-placement="top"
                                      uib-tooltip="Rendimiento x hora en Metros Lineales">(ML):{{item.ml_maquina_enchape_seleccionada}}</span>
                            </p>
                        </td>
                        <td ng-class="{'tiempos_srv_danger' : item.sw_tiempos_cruzados}">
                            <div>{{item.fh_inicio_enchape | toMomentDateWithoutYear}}</div>
                            <div ng-if="item.sw_tiempos_cruzados" class="grupo_acciones_tiempos_cruzados">
                                <div class="btn-group btn-group-xs" role="group">
                                    <button class="btn btn-default"
                                            ng-click="show_update_inicio_operaciones_maquina_enchape(item)"
                                            title="Modificar tiempo inicio operaciones"
                                            type="button">
                                        <i class="fa fa-clock-o"
                                           style="font-size: 20px;"></i>
                                    </button>
                                </div>
                            </div>
                        </td>
                        <td ng-class="{'tiempos_srv_danger' : item.sw_tiempos_cruzados}">{{item.fh_fin_enchape | toMomentDateWithoutYear}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            <legend class="encabezado_legend"
                    ng-if="show_title_enchape_mixto()"
                    style="font-size: 16px !important;">Asignación de enchape mixto</legend>
            <div ng-repeat="item in listCantosEnchape" ng-show="item.listAsignacionEnchape.length > 0">
                <div class="col-md-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-green nro-indice-corte-mixto"
                              title="Indice tabla principal">
                            {{item.indice}}
                        </span>
                        <div class="info-box-content dt-corte-mixto">
                            <table class="table table-striped table-condensed table-bordered"
                                   style="font-size: 12px;">
                                <thead>
                                    <tr>
                                        <th title="Metros lineales">ML</th>
                                        <th>Operario</th>
                                        <th>Máquina</th>

                                        <th>Fecha Inicio</th>
                                        <th>Fecha Fin</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="option in item.listAsignacionEnchape">
                                        <td>{{option.cantidad | number:2}}</td>
                                        <td>{{option.operario_selected.operario}}</td>
                                        <td>{{option.maquina_selected.d_maquina}}</td>
                                        <td>{{option.fh_inicio | toMomentDateWithoutYear}}</td>
                                        <td>{{option.fh_fin | toMomentDateWithoutYear}}</td>
                                    </tr>
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="validar_asignacion()" type="submit">Finalizar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Cancelar</button>
    </div>

</script>

<script type="text/ng-template" id="frmAsignacionMLEnchape.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Asignación de metros lineales | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin text-center">
            <a class="btn-app btn-cant-tableros">
                <strong>
                    {{data_canto.cantidad}}
                </strong><br />
                <span>
                    Total Metros Lineales
                </span>
            </a>

            <a class="btn-app btn-cant-tableros">
                <strong style="font-size: 20px;">
                    {{data_canto.referencia_producto}}
                </strong><br />
                <span>
                    {{data_canto.descripcion_referencia}}
                </span>
            </a>
        </div>
        <div class="row no-margin">
            <table class="table table-striped table-condensed table-bordered">
                <thead style="font-size: 14px;">
                    <tr>
                        <th style="width: 91px;"></th>
                        <th title="Nro indice">#</th>
                        <th class="text-center"
                            title="Metros lineales asignados">ML Asignados</th>
                        <th>Operario <sup>*</sup></th>
                        <th>Máquina <sup>*</sup></th>
                        <th>Fecha inicio</th>
                        <th>Fecha fin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in listMetrosLinealesAsignacion">
                        <td>
                            <button type="button"
                                    class="btn btn-mdc"
                                    ng-click="deleteAsignacion(item)"
                                    title="Eliminar esta asignación">
                                <i class="fa fa-trash-o"></i>
                            </button>
                            <button type="button"
                                    class="btn btn-mdc"
                                    ng-click="insertAsignacion()"
                                    title="Asignar más tableros">
                                <i class="fa fa-plus"></i>
                            </button>
                        </td>
                        <td><span>{{item.indice = $index + 1}}</span></td>
                        <td>
                            <input class="form-control text-center font_size_15px"
                                   min="1"
                                   ng-change="update_nro_metros_lineales(item)"
                                   ng-model="item.cantidad"
                                   step="1"
                                   type="number" />
                        </td>
                        <td>
                            <select class="form-control font_size_15px"
                                    ng-change="get_maquina_operario(item);"
                                    ng-model="item.operario_selected"
                                    ng-options="opc.operario for opc in listOperariosEnchape">
                                <option value="">Seleccione operario</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control font_size_15px"
                                    ng-change="change_maquina_enchape(item)"
                                    ng-model="item.row_id_maquina"
                                    ng-options="opc.row_id as opc.d_maquina for opc in listMaquinasEnchape">
                                <option value="">Seleccione maquina</option>
                            </select>
                            <p class="help-block text-right" style="font-size: smaller;">
                                <span tooltip-placement="top"
                                      uib-tooltip="Rendimiento x hora en Metros Lineales">(ML):{{item.ml_maquina_enchape_seleccionada}}</span>
                            </p>
                        </td>
                        <td ng-class="{'tiempos_srv_danger' : item.sw_tiempos_cruzados}">
                            <div>{{item.fh_inicio_enchape | toMomentDateWithoutYear}}</div>
                            <div ng-if="item.sw_tiempos_cruzados" class="grupo_acciones_tiempos_cruzados">
                                <div class="btn-group btn-group-xs" role="group">

                                    <button class="btn btn-default"
                                            ng-click="show_update_inicio_operaciones_maquina_enchape(item)"
                                            title="Modificar tiempo inicio operaciones"
                                            type="button">
                                        <i class="fa fa-clock-o"
                                           style="font-size: 20px;"></i>
                                    </button>
                                </div>
                            </div>
                        </td>
                        <td ng-class="{'tiempos_srv_danger' : item.sw_tiempos_cruzados}">{{item.fh_fin_enchape | toMomentDateWithoutYear}}</td>
                    </tr>
                    <tr>
                        <td colspan="2"></td>
                        <td ng-class="{'success-cantidad-tablero-asignada' : data_canto.cont_metros_lineales_asignados == data_canto.cantidad, 'warning-cantidad-tablero-asignada' : data_canto.cont_metros_lineales_asignados < data_canto.cantidad ,'danger-cantidad-tablero-asignada' : data_canto.cont_metros_lineales_asignados > data_canto.cantidad}" title="Total Metros Lineales Asignados">
                            TML:
                            <strong style="font-size: 20px;">
                                {{data_canto.cont_metros_lineales_asignados}}
                            </strong>
                        </td>
                        <td colspan="7"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="validar_asignacion()" type="submit">Guardar y Continuar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Cancelar</button>
    </div>

</script>

<script type="text/ng-template" id="frmDatosCliente.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Datos del cliente</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div class="bs-callout bs-callout-info" id="callout-alerts-dismiss-plugin">
                <h4>{{objDatosCliente.NombresCliente}} {{objDatosCliente.ApellidosCliente}}</h4>
                <p>
                    <dl style="margin: 5px;">
                        <dt style="white-space: pre-line;">CÉDULA</dt>
                        <dd style="white-space: pre-line;" class="margin-bottom-5px">{{objDatosCliente.DocumentoCliente | number:0}}</dd>
                        <dt style="white-space: pre-line;">TIPO CLIENTE</dt>
                        <dd style="white-space: pre-line;" class="margin-bottom-5px">{{objDatosCliente.d_tipo_cliente}}</dd>
                    </dl>

                    <dl style="margin: 5px;" ng-repeat="item in listDatosCliente">
                        <dt style="white-space: pre-line;">{{item.Descripcion}}</dt>
                        <dd style="white-space: pre-line;">{{item.ContactoCliente}}</dd>
                    </dl>
                </p>
            </div>

            <div ng-if="objDatosCliente.sw_contacto_corpo" class="bs-callout bs-callout-warning" id="callout-alerts-dismiss-use-button">
                <h4>CONTÁCTO CLIENTE CORPORATIVO</h4>
                <p>
                    <dl style="margin: 5px;">
                        <dt style="white-space: pre-line;">NOMBRES</dt>
                        <dd style="white-space: pre-line;" class="margin-bottom-5px">{{objDatosClienteCorporativo.nombre_contacto || "Sin Especificar"}}</dd>
                        <dt style="white-space: pre-line;">CARGO</dt>
                        <dd style="white-space: pre-line;" class="margin-bottom-5px">{{objDatosClienteCorporativo.cargo || "Sin Especificar"}}</dd>
                        <dt style="white-space: pre-line;">TELÉFONO</dt>
                        <dd style="white-space: pre-line;" class="margin-bottom-5px">{{objDatosClienteCorporativo.telefono || "Sin Especificar"}}</dd>
                        <dt style="white-space: pre-line;">CELULAR</dt>
                        <dd style="white-space: pre-line;" class="margin-bottom-5px">{{objDatosClienteCorporativo.celular || "Sin Especificar"}}</dd>
                        <dt style="white-space: pre-line;">EMAIL</dt>
                        <dd style="white-space: pre-line;" class="margin-bottom-5px">{{objDatosClienteCorporativo.email || "Sin Especificar"}}</dd>
                    </dl>
                </p>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="submit">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmSelectCentroOperacion.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Seleccione Centro Operación</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <select id="seleccion_centro_operacion" class="form-control font-madecentro font_size_15px" data-placeholder="Seleccione..">
                <option></option>
            </select>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="ok()" type="submit">OK</button>
    </div>
</script>

<script type="text/ng-template" id="frmInicializacionTiempoMaquina.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Seleccion fecha inicio</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div class="bs-callout bs-callout-warning">
                <h4><i class="fa fa-exclamation-triangle"></i> El tiempo de disponibilidad de la máquina es menor al tiempo actual</h4>
                <p>A continuación seleccione la fecha en que se dara inicio a las operaciones de la maquina.</p>
            </div>

            <div class="form-group">
                <div class="col-sm-12">
                    <label class="control-label">Fecha Inicio Operaciones:</label>
                    <div class="input-group date" id="dpFechaInicioOperaciones">
                        <input type="text" class="form-control font_size_15px" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="ok()" type="submit">OK</button>
    </div>
</script>

<script type="text/ng-template" id="frmUpdateInicioOperacionesMaquina.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Seleccion fecha inicio servicio</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div class="bs-callout bs-callout-info">
                <h4><i class="fa fa-info-circle"></i> Seleccione una fecha para dar inicio con el servicio de enchape</h4>
            </div>
            <div class="form-group">
                <div class="col-sm-12">
                    <label class="control-label">Fecha Inicio Operaciones:</label>
                    <div class="input-group date" id="dpFechaInicioOperaciones">
                        <input type="text" class="form-control font_size_15px" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="ok()" type="submit">OK</button>
    </div>
</script>

<script type="text/ng-template" id="frmResumenPlaneacionOP.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;"> Planeación | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body" style="background-color: #ececec;">
        <div class="row no-margin"
             ng-repeat="item in data_solicitud.listSrvIncluidos" repeat-done="manage_data()">

            <!--box srv corte-->
            <div class="box box-success" ng-if="item.c_grupo_servicio == id_grupo_servicios_corte">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00a65a;">
                            {{item.indice = $index + 1}} •{{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed font_size_12px">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>NT</th>
                                    <th>NP</th>
                                    <th>ML</th>
                                    <th>DS</th>
                                    <!--<th>Máquina</th>-->
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.listPlaneacionSrv">
                                    <td class="text-center">
                                        <!--indicador de estados del servicio, con el fin de identificar si ya fue atendido por el operario-->
                                        <i class="fa fa-circle"
                                           ng-if="!option.sw_inicio_etapa_vencido"
                                           title="Etapa: {{option.d_estado}}"
                                           ng-class="{'indicador_etapa_terminada' : option.c_estado == id_estado_dt_op_terminado,
                                                      'indicador_etapa_iniciada'  : option.c_estado == id_estado_dt_op_iniciado,
                                                      'indicador_etapa_pendiente' : option.c_estado == id_estado_dt_op_pendiente}"
                                           style="font-size: 25px;"></i>

                                        <i class="fa fa-circle indicador_etapa_vencida"
                                           ng-if="option.sw_inicio_etapa_vencido"
                                           title="Etapa: VENCIDA"
                                           style="font-size: 25px;"></i>
                                    </td>
                                    <td>
                                        <span>{{option.cantidad}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.cantidad_piezas}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.metros_lineales_desplazamiento_sierra}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.desplazamiento_sierra}}</span>
                                    </td>
                                    <!--<td>
                                        <span>{{option.d_maquina}}</span>
                                    </td>-->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- /.table-responsive -->
                </div>
            </div>

            <!--box srv enchape-->
            <div class="box box-info" ng-if="item.c_grupo_servicio == id_grupo_servicios_enchape">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00c0ef;">
                            {{item.indice = $index + 1}} •{{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed font_size_12px">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>ML</th>
                                    <th>Servicio</th>
                                    <!--<th>Máquina</th>-->
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.listPlaneacionSrv">
                                    <td class="text-center">
                                        <!--indicador de estados del servicio, con el fin de identificar si ya fue atendido por el operario-->
                                        <i class="fa fa-circle"
                                           ng-if="!option.sw_inicio_etapa_vencido"
                                           title="Etapa: {{option.d_estado}}"
                                           ng-class="{'indicador_etapa_terminada' : option.c_estado == id_estado_dt_op_terminado,
                                                      'indicador_etapa_iniciada'  : option.c_estado == id_estado_dt_op_iniciado,
                                                      'indicador_etapa_pendiente' : option.c_estado == id_estado_dt_op_pendiente}"
                                           style="font-size: 25px;"></i>

                                        <i class="fa fa-circle indicador_etapa_vencida"
                                           ng-if="option.sw_inicio_etapa_vencido"
                                           title="Etapa: VENCIDA"
                                           style="font-size: 25px;"></i>
                                    </td>
                                    <td>
                                        <span>{{option.cantidad}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.referencia_producto}} {{option.descripcion_referencia}}</span>
                                    </td>
                                    <!--<td>
                                        <span>{{option.d_maquina}}</span>
                                    </td>-->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!--box srv especiales-->
            <div class="box" ng-if="item.c_grupo_servicio != id_grupo_servicios_enchape && item.c_grupo_servicio != id_grupo_servicios_corte">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #868686;">
                            {{item.indice = $index + 1}} •{{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed font_size_12px">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Cant</th>
                                    <th>Servicio</th>
                                    <!--<th>Máquina</th>-->
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.listPlaneacionSrv">
                                    <td class="text-center">
                                        <!--indicador de estados del servicio, con el fin de identificar si ya fue atendido por el operario-->
                                        <i class="fa fa-circle"
                                           ng-if="!option.sw_inicio_etapa_vencido"
                                           title="Etapa: {{option.d_estado}}"
                                           ng-class="{'indicador_etapa_terminada' : option.c_estado == id_estado_dt_op_terminado,
                                                      'indicador_etapa_iniciada'  : option.c_estado == id_estado_dt_op_iniciado,
                                                      'indicador_etapa_pendiente' : option.c_estado == id_estado_dt_op_pendiente}"
                                           style="font-size: 25px;"></i>

                                        <i class="fa fa-circle indicador_etapa_vencida"
                                           ng-if="option.sw_inicio_etapa_vencido"
                                           title="Etapa: VENCIDA"
                                           style="font-size: 25px;"></i>
                                    </td>
                                    <td>
                                        <span>{{option.cantidad}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.referencia_producto}} {{option.descripcion_referencia}}</span>
                                    </td>
                                    <!--<td>
                                        <span>{{option.d_maquina}}</span>
                                    </td>-->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="submit">OK</button>
    </div>
</script>

<script type="text/ng-template" id="frmProgramacionServicios.html">
    <div class="modal-header text-center">
        <div class="row no-margin">
            <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <!--<button type="button" class="btn btn-mdc" ng-click="open_despiece()" title="Ver despiece" style="float: left;padding: 4px;">
                <i class="fa fa-puzzle-piece"
                   style="font-size: 35px;"></i>
            </button>-->

            <button class="btn btn-default"
                    title="Ver despiece"
                    ng-click="open_despiece()"
                    style="float: left;padding: 4px;width: 60px;"
                    type="button">
                <img src="assets/img/ico-cortar.png" style="width: 100%;" />
            </button>

            <h4 class="modal-title font-madecentro" style="font-weight: 600;">Programación de Servicios | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
        </div>
        <!--<hr style="margin-top: 5px;" />
        <div class="row no-margin">
            <div class="form-inline">
                <div class="form-group">
                    <label>Fecha Programación</label>
                    <div class="input-group date" id="dpFechaProgramacionOP">
                        <input type="text" class="form-control font_size_15px" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>-->
    </div>
    <div class="modal-body" style="background-color: #ececec;">
        <div class="row no-margin"
             ng-repeat="item in data_solicitud.listSrvIncluidos" repeat-done="get_datos_for_servicios_incluidos_op()">

            <!--box srv corte-->
            <div class="box box-success" ng-if="item.c_grupo_servicio == id_grupo_servicios_corte">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00a65a;">
                            {{item.indice}} •{{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-condensed table-bordered"
                           style="background-color: rgb(232, 232, 232);">
                        <thead>
                            <tr>
                                <th class="text-center color_identifier_corte"
                                    colspan="9">
                                    <a class="action_link_mdc"
                                       ng-click="show_graphics_corte()"
                                       title="Ver carga de Corte"
                                       style="color: #3c763d; font-size: 18px;">
                                        <span>
                                            <i class="glyphicon glyphicon-equalizer" aria-hidden="true"></i>
                                            Corte
                                        </span>
                                    </a>
                                </th>
                            </tr>
                            <tr>
                                <th class="color_identifier_corte column-tr color-identifier-tr-corte"
                                    title="Traslados"
                                    style="min-width:61px">TR</th>
                                <th class="color_identifier_corte"
                                    title="Número tableros">NT</th>
                                <th class="color_identifier_corte"
                                    title="Número piezas">NP</th>
                                <th class="color_identifier_corte"
                                    title="Metros lineales">ML</th>
                                <th class="color_identifier_corte"
                                    title="Desplazamiento Sierra">DS</th>
                                <th class="color_identifier_corte"
                                    title="Retazos">RT</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <!--semaforo estado solicitud de traslado corte-->
                                <td class="color_identifier_corte">
                                    <a class="btn btn-app"
                                       ng-class="{'tr-sin-recepcion' : item.cantidad_pedida_tr != 0 && item.cantidad_real_recibida != item.cantidad_pedida_tr,
                                                  'tr-recepcionado' : item.cantidad_pedida_tr != 0 && item.cantidad_real_recibida == item.cantidad_pedida_tr }"
                                       ng-click="show_dt_tr_tablero(item)"
                                       ng-show="item.cantidad_pedida_tr != 0"
                                       style="min-width: 50px; height: 50px;"
                                       tooltip-placement="top"
                                       uib-tooltip="Ver Detalle Transferencia Tableros">
                                        <i class="fa fa-exchange"></i>
                                    </a>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.cantidad_placas | number:2}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.cantidad_piezas_cortadas}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.metros_lineales_desplazamiento_sierra | number:2}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.desplazamiento_sierra | number:2}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.cantidad_tableros_retazos | number:2}}
                                    </strong>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!--box srv enchape-->
            <div class="box box-info" ng-if="item.c_grupo_servicio == id_grupo_servicios_enchape">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00c0ef;">
                            {{item.indice}} •{{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-condensed table-bordered"
                           style="background-color: rgb(232, 232, 232);">
                        <thead>
                            <tr>
                                <th class="text-center color_identifier_enchape"
                                    colspan="7">
                                    <a class="action_link_mdc"
                                       ng-click="show_graphics_enchape()"
                                       title="Ver carga de Enchape"
                                       style="font-size: 18px;color: #31708f;">
                                        <span>
                                            <i class="glyphicon glyphicon-equalizer" aria-hidden="true"></i>
                                            Enchape
                                        </span>
                                    </a>
                                </th>
                            </tr>
                            <tr>
                                <th class="color_identifier_enchape column-tr color-identifier-tr-enchape"
                                    title="Traslados"
                                    style="min-width:61px">TR</th>
                                <th class="color_identifier_enchape column-tr color-identifier-tr-enchape"
                                    title="Traslados">Servicios</th>
                                <th class="color_identifier_enchape"
                                    title="Metros lineales">ML</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="color_identifier_enchape">
                                    <a class="btn btn-app"
                                       ng-class="{'tr-sin-recepcion' : item.cantidad_pedida_tr_srv_enchape != 0 && item.cantidad_real_recibida_srv_enchape != item.cantidad_pedida_tr_srv_enchape,
                                                  'tr-recepcionado' : item.cantidad_pedida_tr_srv_enchape != 0 && item.cantidad_real_recibida_srv_enchape == item.cantidad_pedida_tr_srv_enchape }"
                                       ng-click="show_dt_tr_canto(item)"
                                       ng-show="item.cantidad_pedida_tr_srv_enchape != 0"
                                       style="min-width: 50px; height: 50px;"
                                       tooltip-placement="top"
                                       uib-tooltip="Ver Detalle Transferencia Cantos">
                                        <i class="fa fa-exchange"></i>
                                    </a>
                                </td>
                                <td class="color_identifier_enchape">
                                    <div ng-repeat="option in item.listSrvEnchape">
                                        <div class="margin-bottom-5px">• {{option.referencia_producto}} - {{option.descripcion_referencia}}</div><br />
                                    </div>
                                </td>
                                <td class="color_identifier_enchape">
                                    <strong class="text font_size_15px">
                                        {{item.ml_enchape | number:2}}
                                    </strong>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!--box srv especiales-->
            <div class="box" ng-if="item.c_grupo_servicio != id_grupo_servicios_enchape && item.c_grupo_servicio != id_grupo_servicios_corte">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #868686;">
                            {{item.indice}} •{{item.d_grupo_servicio}}
                        </h3>
                        <i class="fa fa-warning text-yellow"
                           ng-if="item.c_grupo_servicio==id_grupo_servicios_otros"
                           style="font-size: 30px;float: right;cursor:pointer"></i>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-condensed table-bordered">
                        <thead>
                            <tr>
                                <th title="Cantidad">Cant</th>
                                <th>Referencia</th>
                                <th>Descripción</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{item.cantidad | number:0}}</td>
                                <td>{{item.referencia_producto}}</td>
                                <td>{{item.descripcion_referencia}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="validar_programacion_op()" type="submit">Finalizar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="submit">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmAsignacionCantSrv.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Asignación de metros lineales | OP {{data_servicio.c_centro_operacion_orden_produccion}}-{{data_servicio.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin text-center">
            <a class="btn-app btn-cant-tableros">
                <strong>
                    {{data_servicio.cantidad}}
                </strong><br />
                <span>
                    Total
                </span>
            </a>

            <a class="btn-app btn-cant-tableros">
                <strong style="font-size: 20px;">
                    {{data_servicio.referencia_producto}}
                </strong><br />
                <span>
                    {{data_servicio.descripcion_referencia}}
                </span>
            </a>
        </div>
        <div class="row no-margin">
            <table class="table table-striped table-condensed table-bordered">
                <thead style="font-size: 14px;">
                    <tr>
                        <th style="width: 91px;"></th>
                        <th title="Nro indice">#</th>
                        <th class="text-center"
                            title="Metros lineales asignados">ML Asignados</th>
                        <th>Operario <sup>*</sup></th>
                        <th>Máquina <sup>*</sup></th>
                        <th>Fecha inicio</th>
                        <th>Fecha fin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in cantidadSrvAsignacion">
                        <td>
                            <button type="button"
                                    class="btn btn-mdc"
                                    ng-click="deleteAsignacion(item)"
                                    title="Eliminar esta asignación">
                                <i class="fa fa-trash-o"></i>
                            </button>
                            <button type="button"
                                    class="btn btn-mdc"
                                    ng-click="insertAsignacion()"
                                    title="Asignar más tableros">
                                <i class="fa fa-plus"></i>
                            </button>
                        </td>
                        <td><span>{{item.indice = $index + 1}}</span></td>
                        <td>
                            <input class="form-control text-center font_size_15px"
                                   min="1"
                                   ng-change="update_cant_srv(item)"
                                   ng-model="item.cantidad"
                                   step="1"
                                   type="number" />
                        </td>
                        <td>
                            <select class="form-control font_size_15px"
                                    ng-change="get_maquina_operario(item);"
                                    ng-model="item.operario_selected"
                                    ng-options="opc.operario for opc in listOperariosSrv">
                                <option value="">Seleccione operario</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control font_size_15px"
                                    ng-change="change_maquina_enchape(item)"
                                    ng-model="item.row_id_maquina"
                                    ng-options="opc.row_id as opc.d_maquina for opc in listMaquinasSrv">
                                <option value="">Seleccione maquina</option>
                            </select>
                            <p class="help-block text-right" style="font-size: smaller;">
                                <span tooltip-placement="top"
                                      uib-tooltip="Rendimiento x hora en Metros Lineales">(Cant):{{item.cant_maquina_srv_seleccionada}}</span>
                            </p>
                        </td>
                        <td ng-class="{'tiempos_srv_danger' : item.sw_tiempos_cruzados}">
                            <div>{{item.fh_inicio_srv | toMomentDateWithoutYear}}</div>
                            <div ng-if="item.sw_tiempos_cruzados" class="grupo_acciones_tiempos_cruzados">
                                <div class="btn-group btn-group-xs" role="group">

                                    <button class="btn btn-default"
                                            ng-click="show_update_inicio_operaciones_maquina_enchape(item)"
                                            title="Modificar tiempo inicio operaciones"
                                            type="button">
                                        <i class="fa fa-clock-o"
                                           style="font-size: 20px;"></i>
                                    </button>
                                </div>
                            </div>
                        </td>
                        <td ng-class="{'tiempos_srv_danger' : item.sw_tiempos_cruzados}">{{item.fh_fin_srv | toMomentDateWithoutYear}}</td>
                    </tr>
                    <tr>
                        <td colspan="2"></td>
                        <td ng-class="{'success-cantidad-tablero-asignada' : data_servicio.cont_cant_srv_asignada == data_servicio.cantidad, 'warning-cantidad-tablero-asignada' : data_servicio.cont_cant_srv_asignada < data_servicio.cantidad ,'danger-cantidad-tablero-asignada' : data_servicio.cont_cant_srv_asignada > data_servicio.cantidad}" title="Total cantidad servicio asignada">
                            TML:
                            <strong style="font-size: 20px;">
                                {{data_servicio.cont_cant_srv_asignada}}
                            </strong>
                        </td>
                        <td colspan="7"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="validar_asignacion()" type="submit">Guardar y Continuar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Cancelar</button>
    </div>

</script>

<script type="text/ng-template" id="frmBarcodesOP.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Códigos de Barras</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin text-center">
            <legend class="encabezado_legend"
                    style="margin-top: 0;">Ingrese el Nro. Orden de producción</legend>
            <div class="form-inline">
                <input class="inputs form-control font_size_15px"
                       maxlength="3"
                       ng-model="objFiltroOP.c_centro_operacion_orden_produccion"
                       placeholder="Centro Operación"
                       style="width: 54px;"
                       type="text"
                       x-validacion-auto="solo_numeros" />
                -
                <input autofocus
                       class="inputs form-control font_size_15px"
                       id="input_id_orden"
                       ng-model="objFiltroOP.cs_id_orden_produccion_co"
                       placeholder="Nro. Orden"
                       style="width: 107px;"
                       type="text"
                       x-validacion-auto="solo_numeros" />
                <button type="button" class="btn btn-mdc font_size_15px" ng-disabled="filtro_operario == ''" ng-click="get_data_for_barcode_op()">
                    <i class="fa fa-search"></i>
                    Buscar
                </button>
            </div>
        </div>
        <div ng-show="listSrvIncluidos.length > 0">
            <hr />
            <div class="text-right">
                <i class="fa fa-print fa-2x"
                   id="ico_print"
                   ng-click="imprimir()"
                   title="Imprimir código(s)"
                   style="cursor: pointer;"></i>
            </div>
            <br />
            <div class="row no-margin"
                 id="frm_barcode_etapas_op">
                <table style="font-size: 14px;width: 100%;max-width: 100%;margin-bottom: 20px;border: 1px solid #ddd;background-color: transparent;border-spacing: 0;border-collapse: collapse;font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">
                    <tr>
                        <td style="padding: 8px;line-height: 1.42857143;vertical-align: top;border-top: 1px solid #ddd;border: 1px solid #ddd;">
                            OP <br> <span> {{objDataOP.c_centro_operacion_orden_produccion}}-{{objDataOP.cs_id_orden_produccion_co}}</span>
                        </td>
                        <td style="padding: 8px;line-height: 1.42857143;vertical-align: top;border-top: 1px solid #ddd;">
                            OV <br> <span> {{objDataOP.c_centro_operacion}}-{{objDataOP.cs_id_orden_venta_co}}</span>
                        </td>
                        <td style="padding: 8px;line-height: 1.42857143;vertical-align: top;border-top: 1px solid #ddd;border: 1px solid #ddd;">
                            Asesor <br> <span> {{objDataOP.asesor}}</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3" style="padding: 8px;line-height: 1.42857143;vertical-align: top;border-top: 1px solid #ddd;border: 1px solid #ddd;">
                            Cliente: <span> {{objDataOP.documento_cliente}}</span> - <span> {{objDataOP.nombres_cliente}} {{objDataOP.apellidos_cliente}}</span>
                        </td>
                    </tr>
                </table>

                <div class="row no-margin"
                     ng-repeat="item in listSrvIncluidos" repeat-done="create_barcode()"
                     ng-style="($index == 3)  && {'page-break-after':'always'}">

                    <div style="padding: 5px 15px 5px 15px; border: 1px solid #ddd;border-radius: 4px;margin-bottom: 15px;text-align:left">
                        <div>
                            <b style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">{{item.d_grupo_servicio}}</b>
                            <span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;"> | <span>{{item.cod_registro_maquina}}</span></span>
                        </div>
                        <hr style="margin-top: 5px;margin-bottom: 0;border: 0;border-top: 1px solid #eee;" />
                        <div>
                            <table style="width: 100%">
                                <tr>
                                    <td style="text-align:center">
                                        <svg id="barcode{{item.indice}}"
                                             ng-if="align_to_left($index)"></svg>

                                        <div ng-if="!align_to_left($index) && item.fh_inicio != ''" style="text-align: left">
                                            <span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">Inicio: <span>{{item.fh_inicio | toMomentDateWithoutYear}}</span></span>
                                            <span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">&nbsp;&nbsp;&nbsp;Fin: <b>{{item.fh_fin | toMomentDateWithoutYear}}</b></span>
                                            <span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">&nbsp;&nbsp;&nbsp;T: <b>{{item.time_etapa}}</b></span>
                                            <br />
                                            <ul style="list-style: none;padding-left: 20px;padding-top: 5px;">
                                                <li ng-repeat="pro in item.listProductosSrv">
                                                    -<span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">{{pro.referencia_producto}}</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </td>
                                    <td style="text-align:center">
                                        <svg id="barcode{{item.indice}}"
                                             ng-if="!align_to_left($index)"></svg>

                                        <div ng-if="align_to_left($index) && item.fh_inicio != ''" style="text-align: left">
                                            <span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">Inicio: <span>{{item.fh_inicio | toMomentDateWithoutYear}}</span></span>
                                            <span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">&nbsp;&nbsp;&nbsp;Fin: <b>{{item.fh_fin | toMomentDateWithoutYear}}</b></span>
                                            <span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">&nbsp;&nbsp;&nbsp;T: <b>{{item.time_etapa}}</b></span>
                                            <br />
                                            <ul style="list-style: none;padding-left: 20px;padding-top: 5px;">
                                                <li ng-repeat="pro in item.listProductosSrv">
                                                    -<span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;">{{pro.referencia_producto}}</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <!--<div ng-if="item.listProductosSrv.length == 0" ng-style="align_to_left($index) && {'text-align':'left'}  || !align_to_left($index) && {'text-align':'right'}">
                                <svg id="barcode{{item.indice}}"></svg>
                            </div>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="button">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmTipoBarcode.html">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Filtrar Código de Barras</h4>
    </div>
    <div class="modal-body">
        <legend class="encabezado_legend"
                style="margin-top: 0;">Que codigo de barras desea filtrar?</legend>
        <div class="row no-margin">
            <section id="set-7" class="border-section animated fadeIn">
                <div class="hi-icon-wrap hi-icon-effect-7 hi-icon-effect-7b" style="padding-top: 0px; padding-bottom: 0px;">
                    <a class="hi-icon hi-icon-id-badge" ng-click="get_barcode_operario()" style="font-size: 16px;">
                        <div style="margin-top: 9px;">
                            <span class="font-madecentro">Operario</span>
                        </div>
                    </a>
                    <a class="hi-icon hi-icon-tasks" ng-click="get_barcode_op()" style="font-size: 16px;">
                        <div style="margin-top: 9px;">
                            <span class="font-madecentro">OP</span>
                        </div>
                    </a>
                </div>
            </section>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="button">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmBarcodeOperario.html">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Filtrar Código de Barras Operario</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin" style="padding-bottom:15px">
            <div class="form-group">
                <label for="inputFiltro">Filtrar operario</label>
                <input autofocus type="text" class="form-control font_size_15px" id="inputFiltro" placeholder="Ingrese cédula o nombres" ng-model="filtro_operario">
            </div>
            <button type="button" class="btn btn-mdc font_size_15px" ng-disabled="filtro_operario == ''" ng-click="buscar_operario()">
                <i class="fa fa-search"></i>
                Buscar
            </button>
        </div>
        <div class="row no-margin"
             ng-if="listDataOperario.length > 1">
            <legend class="encabezado_legend"
                    style="margin-top: 0;">Seleccione un operario de la lista</legend>
            <table class="table table-striped table-condensed table-bordered" st-table="listDataOperario" style="margin-top: 0px;">
                <thead>
                    <tr>
                        <th st-sort="cedula">
                            <span title="Documento">Documento</span>
                        </th>
                        <th st-sort="primer_nombre">
                            <span title="Nombres del cliente">Nombres</span>
                        </th>
                        <th st-sort="primer_apellido">
                            <span title="Apellidos del cliente">Apellidos</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="cursor: pointer;" ng-repeat="option in listDataOperario track by $index" ng-click="get_barcode_operario(option)">
                        <td>
                            <span title="Documento" class="ng-binding">{{option.cedula | number:0}}</span>
                        </td>
                        <td>
                            <span title="Nombres de la persona">{{option.primer_nombre}} {{option.segundo_nombre}}</span>
                        </td>
                        <td>
                            <span title="Apellidos de la persona">{{option.primer_apellido}} {{option.segundo_apellido}}</span>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="5" class="text-center">
                            <div st-pagination="" st-items-by-page="10" st-displayed-pages="10"></div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div class="row no-margin" id="frm_barcode_operario" style="display:none;">
            <div style="padding:15px; border: 1px solid #ddd;border-radius: 4px;text-align: center;">

                <span style="font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif !important;"
                      title="Nombres de la persona">{{objDataOperario.primer_nombre}}{{objDataOperario.segundo_nombre}}{{objDataOperario.primer_apellido}}{{objDataOperario.segundo_apellido}}</span>

                <hr style="margin-top: 5px;margin-bottom: 5px;border: 0;border-top: 1px solid #eee;" />

                <svg id="barcodeOperario"></svg>
                <br />
                <div class="text-right">
                    <i class="fa fa-print fa-2x"
                       id="ico_print"
                       ng-click="imprimir()"
                       title="Imprimir este código"
                       style="cursor: pointer;"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="button">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="cambio_contrasena.html">
    <div class="modal-header text-center" style="background-color: #F68414; color:white">
        <h4 class="modal-title font-madecentro">Cambio de Contraseña</h4>
    </div>
    <div class="modal-body" style="background-color: #F68414;">
        <div class="row no-margin">
            <div class="col-md-6 col-xs-12">
                <div id="logo" class="margin-bottom">
                    <img src="Assets/img/madecentro-orange.png" style="width: 100%;" />
                </div>
            </div>
            <div class="col-md-6 col-xs-12">
                <div id="formulario-pass" class="cambio-pass-primer-vez no-margin" style="padding: 15px;box-shadow: rgba(70, 70, 70, 0.882353) 3px 4px 17px;background-color: white;border-radius: 9px;">
                    <div class="form-group">
                        <label class="control-label">Contraseña Actual</label>
                        <input ng-class="{'pass-true' : ValidacionPassOk.value == true }" type="password" class="form-control" ng-model="ObjActualizarDatos.PassActual" ng-change="ValidarPassword();">
                    </div>

                    <div class="form-group">
                        <label class="control-label">Nueva Contraseña</label>
                        <input id="NuevaPass" ng-class="{'ico-ok':PassOk.value==true}" ng-change="VerificarPass();" ng-model="ObjActualizarDatos.NuevaPass" type="password" class="form-control">
                    </div>

                    <div class="form-group">
                        <label class="control-label">Verificar Contraseña</label>
                        <input id="VerificarPassNueva" ng-class="{'ico-ok':PassOk.value==true}" ng-change="VerificarPass();" ng-model="ObjActualizarDatos.VerificarPassNueva" type="password" class="form-control">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center" style="background-color: #F68414;">
        <button ng-click="CambiarPasswordUser();" class="btn btn-default">
            <i class="fa fa-refresh"></i>
            <span class="font-madecentro" style="font-size: 16px"> Cambiar</span>
        </button>
    </div>
</script>

<script type="text/ng-template" id="frmIngresoPjElaborado.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Ingrese el porcentaje elaborado</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div class="input-group">
                <input class="form-control"
                       autofocus
                       id="pj_elaborado_operario"
                       min="1"
                       max="{{pj_permitido}}"
                       ng-model="objGestionEtapaOp.pj_elaborado_operario"
                       ng-change="validar_pj_ingresado()"
                       style="font-size: 20px;"
                       type="number">
                <div class="input-group-addon">%</div>
            </div>
            <span ng-if="pj_permitido < 100" id="helpBlock" class="help-block">Porcentaje máximo permitido: {{pj_permitido}}%</span>
        </div>
        <hr />
        <div class="row no-margin">
            <div class="col-md-2 padding-left-0">
                <button class="btn btn-mdc btn-circle btn-porcentaje-gestion-etapa" ng-click="objGestionEtapaOp.pj_elaborado_operario = 20">
                    20%
                </button>
            </div>
            <div class="col-md-2 padding-left-0">
                <button class="btn btn-mdc btn-circle btn-porcentaje-gestion-etapa" ng-click="objGestionEtapaOp.pj_elaborado_operario = 30">
                    30%
                </button>
            </div>
            <div class="col-md-2 padding-left-0">
                <button class="btn btn-mdc btn-circle btn-porcentaje-gestion-etapa" ng-click="objGestionEtapaOp.pj_elaborado_operario = 50">
                    50%
                </button>
            </div>
            <div class="col-md-2 padding-left-0">
                <button class="btn btn-mdc btn-circle btn-porcentaje-gestion-etapa" ng-click="objGestionEtapaOp.pj_elaborado_operario = 70">
                    70%
                </button>
            </div>
            <div class="col-md-2 padding-left-0">
                <button class="btn btn-mdc btn-circle btn-porcentaje-gestion-etapa" ng-click="objGestionEtapaOp.pj_elaborado_operario = 80">
                    80%
                </button>
            </div>
            <div class="col-md-2 padding-left-0">
                <button class="btn btn-mdc btn-circle btn-porcentaje-gestion-etapa" ng-click="objGestionEtapaOp.pj_elaborado_operario = 100">
                    100%
                </button>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc btn-lg" ng-click="ok()" type="submit">OK</button>
    </div>
</script>

<script type="text/ng-template" id="frmResumenPlaneacionOpPanelControl.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;"> Planeación | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body" style="background-color: #ececec;">
        <div class="row no-margin"
             ng-repeat="item in data_solicitud.listSrvIncluidos" repeat-done="manage_data()">

            <!--box srv corte-->
            <div class="box box-success" ng-if="item.c_grupo_servicio == id_grupo_servicios_corte">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00a65a;">
                            {{item.indice = $index + 1}} •{{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed table-bordered font_size_12px">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Operario</th>
                                    <th>Máquina</th>
                                    <th>Fecha Inicio</th>
                                    <th>Fecha Fin</th>
                                    <th>% Elaborado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.listPlaneacionSrv">
                                    <td class="text-center">
                                        <!--indicador de estados del servicio, con el fin de identificar si ya fue atendido por el operario-->
                                        <i class="fa fa-circle"
                                           ng-if="!option.sw_inicio_etapa_vencido"
                                           title="Etapa: {{option.d_estado}}"
                                           ng-class="{'indicador_etapa_terminada' : option.c_estado == id_estado_dt_op_terminado,
                                                      'indicador_etapa_iniciada'  : option.c_estado == id_estado_dt_op_iniciado,
                                                      'indicador_etapa_pendiente' : option.c_estado == id_estado_dt_op_pendiente}"
                                           style="font-size: 25px;"></i>

                                        <i class="fa fa-circle indicador_etapa_vencida"
                                           ng-if="option.sw_inicio_etapa_vencido"
                                           title="Etapa: VENCIDA"
                                           style="font-size: 25px;"></i>
                                    </td>
                                    <td>
                                        <span>{{option.operario}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.d_maquina}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.fh_inicio | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.fh_fin | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.pj_elaborado_operario || '0'}}%</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>

            <!--box srv enchape-->
            <div class="box box-info" ng-if="item.c_grupo_servicio == id_grupo_servicios_enchape">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00c0ef;">
                            {{item.indice = $index + 1}} •{{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed table-bordered font_size_12px">
                            <thead>
                                <tr>
                                    <th></th>
                                    <!--<th>Cant</th>
                                    <th>Servicio</th>-->
                                    <th>Operario</th>
                                    <th>Máquina</th>
                                    <th>Fecha Inicio</th>
                                    <th>Fecha Fin</th>
                                    <th>% Elaborado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.listPlaneacionSrv">
                                    <td class="text-center">
                                        <!--indicador de estados del servicio, con el fin de identificar si ya fue atendido por el operario-->
                                        <i class="fa fa-circle"
                                           ng-if="!option.sw_inicio_etapa_vencido"
                                           title="Etapa: {{option.d_estado}}"
                                           ng-class="{'indicador_etapa_terminada' : option.c_estado == id_estado_dt_op_terminado,
                                                      'indicador_etapa_iniciada' : option.c_estado == id_estado_dt_op_iniciado,
                                                      'indicador_etapa_pendiente' : option.c_estado == id_estado_dt_op_pendiente}"
                                           style="font-size: 25px;"></i>

                                        <i class="fa fa-circle indicador_etapa_vencida"
                                           ng-if="option.sw_inicio_etapa_vencido"
                                           title="Etapa: VENCIDA"
                                           style="font-size: 25px;"></i>
                                    </td>
                                    <!--<td>
                                        <span>{{option.cantidad}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.referencia_producto}} {{option.descripcion_referencia}}</span>
                                    </td>-->
                                    <td>
                                        <span>{{option.operario}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.d_maquina}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.fh_inicio | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.fh_fin | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.pj_elaborado_operario || '0'}}%</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!--box srv especiales-->
            <div class="box" ng-if="item.c_grupo_servicio != id_grupo_servicios_enchape && item.c_grupo_servicio != id_grupo_servicios_corte">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #868686;">
                            {{item.indice = $index + 1}} •{{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed table-bordered font_size_12px">
                            <thead>
                                <tr>
                                    <th></th>
                                    <!--<th>Cant</th>
                                    <th>Servicio</th>-->
                                    <th>Operario</th>
                                    <th>Máquina</th>
                                    <th>Fecha Inicio</th>
                                    <th>Fecha Fin</th>
                                    <th>% Elaborado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.listPlaneacionSrv">
                                    <td class="text-center">
                                        <!--indicador de estados del servicio, con el fin de identificar si ya fue atendido por el operario-->
                                        <i class="fa fa-circle"
                                           ng-if="!option.sw_inicio_etapa_vencido"
                                           title="Etapa: {{option.d_estado}}"
                                           ng-class="{'indicador_etapa_terminada' : option.c_estado == id_estado_dt_op_terminado,
                                                      'indicador_etapa_iniciada' : option.c_estado == id_estado_dt_op_iniciado,
                                                      'indicador_etapa_pendiente' : option.c_estado == id_estado_dt_op_pendiente}"
                                           style="font-size: 25px;"></i>

                                        <i class="fa fa-circle indicador_etapa_vencida"
                                           ng-if="option.sw_inicio_etapa_vencido"
                                           title="Etapa: VENCIDA"
                                           style="font-size: 25px;"></i>
                                    </td>
                                    <!--<td>
                                        <span>{{option.cantidad}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.referencia_producto}} {{option.descripcion_referencia}}</span>
                                    </td>-->
                                    <td>
                                        <span>{{option.operario}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.d_maquina}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.fh_inicio | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.fh_fin | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.pj_elaborado_operario || '0'}}%</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="submit">OK</button>
    </div>
</script>

<script type="text/ng-template" id="frmAsociarReferenciaGrupoServicio.html">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Configuración de servicios por grupo.</h4>
    </div>
    <div class="modal-body">
        <table class="table no-margin table-striped table-condensed table-bordered font_size_15px">
            <thead>
                <tr>
                    <th>Servicio</th>
                    <th>Descripción</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in listServiciosPendientesAsignacion">
                    <td>
                        <span>{{item.referencia_producto}}</span>
                    </td>
                    <td>
                        <span>{{item.descripcion_referencia}}</span>
                    </td>
                    <td>
                        <select class="form-control font_size_15px"
                                ng-model="item.c_grupo_servicio"
                                ng-options="opc.c_grupo_servicio as opc.d_grupo_servicio for opc in listGruposSrv">
                            <option value="">Seleccione grupo</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="ok()" type="button">Guardar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmAsignarMadeservicios.html">
    <div class="modal-header text-center">
        <button aria-label="Close"
                class="close"
                ng-click="cancel()"
                type="button">
            <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title font-madecentro"
            style="font-weight: 600;">
            Asignar Madeservicios | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}
        </h4>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <select class="form-control font_size_15px"
                    ng-model="obj_asignar_madeservicio.c_centro_operacion"
                    ng-options="opc.c_centro_operacion as opc.d_centro_operacion for opc in listMadeservicios">
                <option value="">Seleccione Madeservicios</option>
            </select>
        </div>
        <div class="form-group no-margin"
             ng-if="listOPAsociadasOV.length > 0">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Ordenes de producción asociadas a la orden de venta
                    </h3>
                </div>
                <div class="panel-body">
                    <table class="table table-striped table-condensed table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center">OV</th>
                                <th class="text-center">OP</th>
                                <th class="text-center">
                                    <input ng-click="select_all_op()"
                                           id="is_select_all_op"
                                           style="transform: scale(1.5);margin: 10px 0 10px 0;"
                                           type="checkbox" />
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in listOPAsociadasOV">
                                <td class="text-center">
                                    <a class="action_link_mdc"
                                       ng-click="open_cotizacion(item)"
                                       title="Ver cotización">
                                        <strong class="text font_size_15px">
                                            <i class="glyphicon glyphicon-list-alt"></i>
                                            {{item.c_centro_operacion}}-{{item.cs_id_orden_venta_co}}
                                        </strong>
                                    </a>
                                    <br />
                                    <div class="margin-top-5px"
                                         style="font-size: 14px;"
                                         ng-hide="item.nro_factura == null">
                                        <span><b>•Fact:</b> {{item.nro_factura || 'Pendiente'}}</span>
                                    </div>
                                    <div class="margin-top-5px"
                                         style="font-size: 14px;"
                                         ng-show="item.nro_factura == null">
                                        <span><b>•Ant:</b> {{item.pjte_anticipo || '0'}}%</span>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <a class="action_link_mdc"
                                       ng-click="open_despiece(item)"
                                       title="Ver despiece">
                                        <strong class="text font_size_15px">
                                            <i class="fa fa-puzzle-piece"></i>
                                            {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}
                                        </strong>
                                    </a>
                                </td>
                                <td class="text-center vertical-align-middle">
                                    <input ng-change="item.esSeleccionado"
                                           ng-model="item.esSeleccionado"
                                           ng-click="check_product_changed(item)"
                                           style="transform: scale(1.5);"
                                           type="checkbox" />
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


        </div>

    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button"
                ng-click="validar_cambio_co_op()"
                type="submit">
            Guardar
        </button>
    </div>
</script>

<script type="text/ng-template" id="frmSeleccionarEspacioTiemposMaquina.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Seleccion fecha inicio servicio</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div class="bs-callout bs-callout-info">
                <h4><i class="fa fa-info-circle"></i> Seleccione una fecha para dar inicio a la etapa.</h4>
            </div>
            <div class="form-group">
                <div class="col-sm-6">
                    <label class="control-label">Fecha Inicio Operaciones:</label>
                    <div class="input-group date" id="dpFechaInicioOperaciones">
                        <input type="text" class="form-control font_size_15px" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <label class="control-label">Fecha Fin Operaciones:</label>
                    <div class="input-group date">
                        <input type="text" class="form-control font_size_15px" disabled ng-model="data_solicitud.fh_fin | toMomentDateWithoutYear" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="ok()" type="submit">OK</button>
    </div>
</script>

<script type="text/ng-template" id="frmReporteMaquina.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Programación Maquina</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12 col-xs-12">
                <!--aqui enlisto todas las máquinas del centro de operación seleccionado para seleccionar la que se desea reemplazar-->
                <div class="col-md-7">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Máquina</h3>
                        </div>
                        <div class="panel-body">
                            <div class="row no-margin">
                                <select id="maquina_consulta" class="form-control font-madecentro font_size_15px" data-placeholder="Seleccione..">
                                    <option></option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <!--aqui muestro las máquinas asociadas a la función de la máquina seleccionada la cual se desea reemplazar-->
                <div class="col-md-5">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Fecha</h3>
                        </div>
                        <div class="panel-body">
                            <div class="row no-margin">
                                <div class="input-group date" id="dpFiltro">
                                    <input type="text" class="form-control" />
                                    <span class="input-group-addon">
                                        <span class="glyphicon glyphicon-calendar"></span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row no-margin">
                    <table class="table table-striped table-condensed table-bordered font-madecentro">
                        <thead>
                            <tr>
                                <th>
                                    <span>OP</span>
                                </th>
                                <!--<th>
                                    <span>Etapa</span>
                                </th>-->
                                <th>
                                    <span>Cliente</span>
                                </th>
                                <th>
                                    <span>Estado</span>
                                </th>
                                <th>
                                    <span>Fecha inicio</span>
                                </th>
                                <th>
                                    <span>Fecha fin</span>
                                </th>
                                <th>
                                    <span>Tiempo</span>
                                </th>
                                <th>
                                    <span>Inicio gestión</span>
                                </th>
                                <th>
                                    <span>Fin gestión</span>
                                </th>
                                <th>
                                    <span>Tiempo gestión</span>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in listOrdenesProduccionFitro">
                                <td class="text-right">
                                    <i class="fa fa-circle indicador_etapa_vencida"
                                       ng-if="item.sw_inicio_etapa_vencido"
                                       title="Etapa: VENCIDA"
                                       style="font-size: 25px; float: left;"></i>
                                    <i class="fa fa-clock-o indicador_op_extra_laboral"
                                       ng-show="item.sw_op_extra_laboral"
                                       uib-tooltip="OP Extra Laboral"
                                       tooltip-placement="right"
                                       tooltip-trigger="mouseenter"></i>
                                    <i class="glyphicon glyphicon-flash indicador_op_express"
                                       ng-if="item.sw_op_express"
                                       uib-tooltip="OP Express"
                                       tooltip-placement="right"
                                       tooltip-trigger="mouseenter"></i>
                                    <a class="action_link_mdc"
                                       ng-click="open_despiece(item)"
                                       title="Ver despiece">
                                        <strong class="text font_size_15px">
                                            <i class="fa fa-puzzle-piece"></i>
                                            {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}
                                        </strong>
                                    </a>
                                </td>
                                <!--<td><span>{{item.d_grupo_servicio}}</span></td>-->
                                <td>
                                    <a class="action_link_mdc"
                                       ng-click="show_datos_cliente(item)"
                                       title="Ver datos del cliente">
                                        <span style="font-size: 13px;">
                                            {{item.nombres_cliente}} {{item.apellidos_cliente}}
                                        </span>
                                    </a>
                                </td>
                                <td><span>{{item.d_estado}}</span></td>
                                <td><span>{{item.fh_inicio | toMomentDateWithoutYear}}</span></td>
                                <td><span>{{item.fh_fin | toMomentDateWithoutYear}}</span></td>
                                <td><span>{{item.time_etapa}}</span></td>

                                <td><span>{{item.fh_inicio_gestion | toMomentDateWithoutYear}}</span></td>
                                <td><span>{{item.fh_fin_gestion | toMomentDateWithoutYear}}</span></td>
                                <td><span>{{item.tiempo_gestion_format}}</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="get_reporte_ordenes_produccion_maquina()" type="submit">Buscar</button>
        <button class="btn btn-defaut font-size-button" ng-click="cancel()" type="submit">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmProgramacionAlternaServicios.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <button type="button" class="btn btn-mdc" ng-click="open_despiece()" title="Ver despiece" style="float: left;padding: 4px;">
            <i class="fa fa-puzzle-piece"
               style="font-size: 35px;"></i>
        </button>

        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Programación de servicios <span style="text-decoration: underline;">({{tipo_programacion_servicios}})</span> | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body" style="background-color: #ececec;">
        <div class="row no-margin"
             ng-repeat="item in data_solicitud.listSrvIncluidos" repeat-done="get_datos_for_servicios_incluidos_op()">

            <!--box srv corte-->
            <div class="box box-success" ng-if="item.c_grupo_servicio == id_grupo_servicios_corte">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00a65a;">
                            {{item.indice}} •{{item.d_grupo_servicio}}
                        </h3>
                        <span ng-if="item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas"
                              tooltip-placement="top"
                              uib-tooltip="Estado Máquina Etapa: {{item.dataMaquina.d_estado}}">
                            <i class="fa fa-exclamation-triangle"
                               style="color: #de7d2b;font-size: 22px;"></i>
                        </span>
                        <span ng-if="item.dataMaquina.c_estado == id_estado_maquina_no_operativa"
                              tooltip-placement="top"
                              uib-tooltip="Estado Máquina Etapa: {{item.dataMaquina.d_estado}}">
                            <i class="fa fa-exclamation-circle"
                               style="color: #c9302c;font-size: 22px;"></i>
                        </span>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-condensed table-bordered"
                           style="background-color: rgb(232, 232, 232);">
                        <thead>
                            <tr>
                                <th class="text-center color_identifier_corte"
                                    colspan="9">
                                    <a class="action_link_mdc"
                                       ng-click="show_graphics_corte()"
                                       title="Ver carga de Corte"
                                       style="color: #3c763d; font-size: 18px;">
                                        <span>
                                            <i class="glyphicon glyphicon-equalizer" aria-hidden="true"></i>
                                            Corte
                                        </span>
                                    </a>
                                </th>
                            </tr>
                            <tr>
                                <th class="color_identifier_corte column-tr color-identifier-tr-corte"
                                    title="Traslados"
                                    style="min-width:61px">TR</th>
                                <th class="color_identifier_corte"
                                    title="Número tableros">NT</th>
                                <th class="color_identifier_corte"
                                    title="Número piezas">NP</th>
                                <th class="color_identifier_corte"
                                    title="Metros lineales">ML</th>
                                <th class="color_identifier_corte"
                                    title="Desplazamiento Sierra">DS</th>
                                <th class="color_identifier_corte"
                                    title="Retazos">RT</th>
                                <th class="color_identifier_corte text-center">Maquina</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <!--semaforo estado solicitud de traslado corte-->
                                <td class="color_identifier_corte">
                                    <a class="btn btn-app"
                                       ng-class="{'tr-sin-recepcion' : item.cantidad_pedida_tr != 0 && item.cantidad_real_recibida != item.cantidad_pedida_tr,
                                                  'tr-recepcionado' : item.cantidad_pedida_tr != 0 && item.cantidad_real_recibida == item.cantidad_pedida_tr }"
                                       ng-click="show_dt_tr_tablero(item)"
                                       ng-show="item.cantidad_pedida_tr != 0"
                                       style="min-width: 50px; height: 50px;"
                                       tooltip-placement="top"
                                       uib-tooltip="Ver Detalle Transferencia Tableros">
                                        <i class="fa fa-exchange"></i>
                                    </a>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.cantidad_placas | number:2}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.cantidad_piezas_cortadas}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.metros_lineales_desplazamiento_sierra | number:2}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.desplazamiento_sierra | number:2}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <strong class="text font_size_15px">
                                        {{item.cantidad_tableros_retazos | number:2}}
                                    </strong>
                                </td>
                                <td class="color_identifier_corte">
                                    <div class="form-inline" ng-if="item.cantidad_placas != null">
                                        <div class="input-group"
                                             style="display: flex">
                                            <!--<div class="input-group-addon">
                                                {{item.nombre_operario}}
                                            </div>-->
                                            <select class="form-control font_size_15px"
                                                    ng-class="{'maquina-restriccion-selected' : item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas, 'maquina-no-operativa-selected' : item.dataMaquina.c_estado == id_estado_maquina_no_operativa}"
                                                    ng-click="validar_cambio_corte_mixto(item)"
                                                    ng-change="change_maquina_corte_op(item)"
                                                    ng-model="item.row_id_maquina"
                                                    ng-options="opc.row_id as opc.d_maquina for opc in item.listMaquinas">
                                                <option value="">---</option>
                                            </select>
                                            <span class="input-group-addon maquina-restriccion-selected"
                                                  ng-if="item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas"
                                                  tooltip-placement="top"
                                                  uib-tooltip="Estado Máquina: {{item.dataMaquina.d_estado}}">
                                                <i class="fa fa-exclamation-triangle"
                                                   style="font-size: 18px;"></i>
                                            </span>
                                            <span class="input-group-addon maquina-no-operativa-selected"
                                                  ng-if="item.dataMaquina.c_estado == id_estado_maquina_no_operativa"
                                                  tooltip-placement="top"
                                                  uib-tooltip="Estado Máquina: {{item.dataMaquina.d_estado}}">
                                                <i class="fa fa-exclamation-circle"
                                                   style="font-size: 18px;"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <p class="help-block">
                                        <span tooltip-placement="top"
                                              uib-tooltip="Rendimiento x hora en Metros Lineales">Operario:{{item.nombre_operario}}</span>
                                        <span class="pull-right"
                                              tooltip-placement="top"
                                              uib-tooltip="Rendimiento x hora en Metros Lineales">(ML):{{item.ml_maquina_corte_seleccionada}}</span>
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!--box srv enchape-->
            <div class="box box-info" ng-if="item.c_grupo_servicio == id_grupo_servicios_enchape">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00c0ef;">
                            {{item.indice}} •{{item.d_grupo_servicio}}
                        </h3>
                        <span ng-if="item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas"
                              tooltip-placement="top"
                              uib-tooltip="Estado Máquina Etapa: {{item.dataMaquina.d_estado}}">
                            <i class="fa fa-exclamation-triangle"
                               style="color: #de7d2b;font-size: 22px;"></i>
                        </span>
                        <span ng-if="item.dataMaquina.c_estado == id_estado_maquina_no_operativa"
                              tooltip-placement="top"
                              uib-tooltip="Estado Máquina Etapa: {{item.dataMaquina.d_estado}}">
                            <i class="fa fa-exclamation-circle"
                               style="color: #c9302c;font-size: 22px;"></i>
                        </span>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-condensed table-bordered"
                           style="background-color: rgb(232, 232, 232);">
                        <thead>
                            <tr>
                                <th class="text-center color_identifier_enchape"
                                    colspan="7">
                                    <a class="action_link_mdc"
                                       ng-click="show_graphics_enchape()"
                                       title="Ver carga de Enchape"
                                       style="font-size: 18px;color: #31708f;">
                                        <span>
                                            <i class="glyphicon glyphicon-equalizer" aria-hidden="true"></i>
                                            Enchape
                                        </span>
                                    </a>
                                </th>
                            </tr>
                            <tr>
                                <th class="color_identifier_enchape column-tr color-identifier-tr-enchape"
                                    title="Traslados"
                                    style="min-width:61px">TR</th>
                                <th class="color_identifier_enchape column-tr color-identifier-tr-enchape"
                                    title="Traslados">Servicios</th>
                                <th class="color_identifier_enchape"
                                    title="Metros lineales">ML</th>
                                <th class="color_identifier_enchape">Maquina</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="color_identifier_enchape">
                                    <a class="btn btn-app"
                                       ng-class="{'tr-sin-recepcion' : item.cantidad_pedida_tr_srv_enchape != 0 && item.cantidad_real_recibida_srv_enchape != item.cantidad_pedida_tr_srv_enchape,
                                                  'tr-recepcionado' : item.cantidad_pedida_tr_srv_enchape != 0 && item.cantidad_real_recibida_srv_enchape == item.cantidad_pedida_tr_srv_enchape }"
                                       ng-click="show_dt_tr_canto(item)"
                                       ng-show="item.cantidad_pedida_tr_srv_enchape != 0"
                                       style="min-width: 50px; height: 50px;"
                                       tooltip-placement="top"
                                       uib-tooltip="Ver Detalle Transferencia Cantos">
                                        <i class="fa fa-exchange"></i>
                                    </a>
                                </td>
                                <td class="color_identifier_enchape">
                                    <div ng-repeat="option in item.listSrvEnchape">
                                        <div class="margin-bottom-5px">• {{option.referencia_producto}} - {{option.descripcion_referencia}}</div><br />
                                    </div>
                                </td>
                                <td class="color_identifier_enchape">
                                    <strong class="text font_size_15px">
                                        {{item.ml_enchape | number:2}}
                                    </strong>
                                </td>
                                <td class="color_identifier_enchape">
                                    <div class="form-inline" ng-if="item.ml_enchape != null">
                                        <div class="input-group"
                                             style="display: flex">
                                            <select class="form-control font_size_15px"
                                                    ng-class="{'maquina-restriccion-selected' : item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas, 'maquina-no-operativa-selected' : item.dataMaquina.c_estado == id_estado_maquina_no_operativa}"
                                                    ng-click="validar_cambio_enchape_mixto(item)"
                                                    ng-change="change_maquina_enchape_op(item)"
                                                    ng-model="item.row_id_maquina"
                                                    ng-options="opc.row_id as opc.d_maquina for opc in item.listMaquinas">
                                                <option value="">---</option>
                                            </select>
                                            <span class="input-group-addon maquina-restriccion-selected"
                                                  ng-if="item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas"
                                                  tooltip-placement="top"
                                                  uib-tooltip="Estado Máquina: {{item.dataMaquina.d_estado}}">
                                                <i class="fa fa-exclamation-triangle"
                                                   style="font-size: 18px;"></i>
                                            </span>
                                            <span class="input-group-addon maquina-no-operativa-selected"
                                                  ng-if="item.dataMaquina.c_estado == id_estado_maquina_no_operativa"
                                                  tooltip-placement="top"
                                                  uib-tooltip="Estado Máquina: {{item.dataMaquina.d_estado}}">
                                                <i class="fa fa-exclamation-circle"
                                                   style="font-size: 18px;"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <p class="help-block">
                                        <span tooltip-placement="top"
                                              uib-tooltip="Rendimiento x hora en Metros Lineales">Operario:{{item.nombre_operario}}</span>
                                        <span class="pull-right"
                                              tooltip-placement="top"
                                              uib-tooltip="Rendimiento x hora en Metros Lineales">(ML):{{item.ml_maquina_enchape_seleccionada}}</span>
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!--box srv especiales-->
            <div class="box" ng-if="item.c_grupo_servicio != id_grupo_servicios_enchape && item.c_grupo_servicio != id_grupo_servicios_corte">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #868686;">
                            {{item.indice}} •{{item.d_grupo_servicio}}
                        </h3>
                        <span ng-if="item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas"
                              tooltip-placement="top"
                              uib-tooltip="Estado Máquina Etapa: {{item.dataMaquina.d_estado}}">
                            <i class="fa fa-exclamation-triangle"
                               style="color: #de7d2b;font-size: 22px;"></i>
                        </span>
                        <span ng-if="item.dataMaquina.c_estado == id_estado_maquina_no_operativa"
                              tooltip-placement="top"
                              uib-tooltip="Estado Máquina Etapa: {{item.dataMaquina.d_estado}}">
                            <i class="fa fa-exclamation-circle"
                               style="color: #c9302c;font-size: 22px;"></i>
                        </span>
                        <i class="fa fa-warning text-yellow"
                           ng-if="item.c_grupo_servicio==id_grupo_servicios_otros"
                           style="font-size: 30px;float: right;cursor:pointer"></i>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-condensed table-bordered">
                        <thead>
                            <tr>
                                <th title="Cantidad">Cant</th>
                                <th>Referencia</th>
                                <th>Descripción</th>
                                <th class="text-center">Maquina</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{item.cantidad | number:0}}</td>
                                <td>{{item.referencia_producto}}</td>
                                <td>{{item.descripcion_referencia}}</td>
                                <td>
                                    <div class="form-inline">
                                        <div class="input-group"
                                             style="display: flex">
                                            <!--<div class="input-group-addon">
                                                {{item.nombre_operario}}
                                            </div>-->
                                            <select class="form-control font_size_15px"
                                                    ng-class="{'maquina-restriccion-selected' : item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas, 'maquina-no-operativa-selected' : item.dataMaquina.c_estado == id_estado_maquina_no_operativa}"
                                                    ng-click="validar_cambio_srv_mixto(item)"
                                                    ng-change="change_maquina_srv_op(item)"
                                                    ng-model="item.row_id_maquina"
                                                    ng-options="opc.row_id as opc.d_maquina for opc in item.listMaquinas">
                                                <option value="">---</option>
                                            </select>
                                            <span class="input-group-addon maquina-restriccion-selected"
                                                  ng-if="item.dataMaquina.c_estado == id_estado_maquina_operativa_problemas"
                                                  tooltip-placement="top"
                                                  uib-tooltip="Estado Máquina: {{item.dataMaquina.d_estado}}">
                                                <i class="fa fa-exclamation-triangle"
                                                   style="font-size: 18px;"></i>
                                            </span>
                                            <span class="input-group-addon maquina-no-operativa-selected"
                                                  ng-if="item.dataMaquina.c_estado == id_estado_maquina_no_operativa"
                                                  tooltip-placement="top"
                                                  uib-tooltip="Estado Máquina: {{item.dataMaquina.d_estado}}">
                                                <i class="fa fa-exclamation-circle"
                                                   style="font-size: 18px;"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <p class="help-block">
                                        <span tooltip-placement="top"
                                              uib-tooltip="Rendimiento x hora en Metros Lineales">Operario:{{item.nombre_operario}}</span>
                                        <span class="pull-right"
                                              tooltip-placement="top"
                                              uib-tooltip="Rendimiento x hora en Metros Lineales">(Cant):{{item.cant_maquina_srv_seleccionada}}</span>
                                    </p>
                                </td>
                            </tr>
                        </tbody>

                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="validar_asignaciones()" type="submit">Finalizar</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="submit">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmReporteServiciosEspeciales.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Servicios Especiales</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <div>
                <div class="col-md-12 col-xs-12">
                    <!--aqui muestro las máquinas asociadas a la función de la máquina seleccionada la cual se desea reemplazar-->
                    <div class="col-md-5 row">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Fecha</h3>
                            </div>
                            <div class="panel-body">
                                <div class="row no-margin">
                                    <div class="input-group date" id="dpFiltro">
                                        <input type="text" class="form-control" />
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row no-margin">
                        <table class="table table-striped table-condensed table-bordered font-madecentro"
                               st-table="listOrdenesProduccionFitro"
                               ng-if="listOrdenesProduccionFitro.length > 0">
                            <thead>
                                <tr>
                                    <th>
                                        <span>OP</span>
                                    </th>
                                    <th>
                                        <span>Máquina</span>
                                    </th>
                                    <th><span>Serv. Especiales</span></th>
                                    <th>
                                        <span>Cliente</span>
                                    </th>
                                    <th>
                                        <span>Estado</span>
                                    </th>
                                    <th>
                                        <span>Fecha inicio</span>
                                    </th>
                                    <th>
                                        <span>Fecha fin</span>
                                    </th>
                                    <th>
                                        <span>Tiempo</span>
                                    </th>
                                    <th>
                                        <span>Inicio gestión</span>
                                    </th>
                                    <th>
                                        <span>Fin gestión</span>
                                    </th>
                                    <th>
                                        <span>Tiempo gestión</span>
                                    </th>
                                </tr>
                                <tr>
                                    <th colspan="11">
                                        <input st-search placeholder="Busqueda General" class="input-sm form-control" type="search" style="font-size: 16px;" />
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in listOrdenesProduccionFitro">
                                    <td class="text-right">
                                        <i class="fa fa-circle indicador_etapa_vencida"
                                           ng-if="item.sw_inicio_etapa_vencido"
                                           title="Etapa: VENCIDA"
                                           style="font-size: 25px; float: left;"></i>
                                        <i class="fa fa-clock-o indicador_op_extra_laboral"
                                           ng-show="item.sw_op_extra_laboral"
                                           uib-tooltip="OP Extra Laboral"
                                           tooltip-placement="right"
                                           tooltip-trigger="mouseenter"></i>
                                        <i class="glyphicon glyphicon-flash indicador_op_express"
                                           ng-if="item.sw_op_express"
                                           uib-tooltip="OP Express"
                                           tooltip-placement="right"
                                           tooltip-trigger="mouseenter"></i>
                                        <a class="action_link_mdc"
                                           ng-click="open_despiece(item)"
                                           title="Ver despiece">
                                            <strong class="text font_size_15px">
                                                <i class="fa fa-puzzle-piece"></i>
                                                {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}
                                            </strong>
                                        </a>
                                    </td>
                                    <td>
                                        <span>{{item.d_maquina}}</span>
                                    </td>
                                    <td>
                                        <ul style="list-style: none;padding-left: 5px;">
                                            <li ng-repeat="srv in item.listServEspecialesOP track by $index">
                                                <span style="font-size: 14px">∘ {{srv.referencia_producto}} - {{srv.descripcion_referencia}}</span>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        <a class="action_link_mdc"
                                           ng-click="show_datos_cliente(item)"
                                           title="Ver datos del cliente">
                                            <span style="font-size: 13px;">
                                                {{item.nombres_cliente}} {{item.apellidos_cliente}}
                                            </span>
                                        </a>
                                    </td>
                                    <td><span>{{item.d_estado}}</span></td>
                                    <td><span>{{item.fh_inicio | toMomentDateWithoutYear}}</span></td>
                                    <td><span>{{item.fh_fin | toMomentDateWithoutYear}}</span></td>
                                    <td><span>{{item.time_etapa}}</span></td>

                                    <td><span>{{item.fh_inicio_gestion | toMomentDateWithoutYear}}</span></td>
                                    <td><span>{{item.fh_fin_gestion | toMomentDateWithoutYear}}</span></td>
                                    <td><span>{{item.tiempo_gestion_format}}</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="get_reporte_ordenes_produccion_maquina()" type="submit">Buscar</button>
        <button class="btn btn-defaut font-size-button" ng-click="cancel()" type="submit">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmShowReportesGestionOP.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Reportes</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <section id="set-7" class="border-section animated fadeIn">
                <div class="hi-icon-wrap hi-icon-effect-7 hi-icon-effect-7b" style="padding-top: 0; padding-bottom: 0;">
                    <div class="col-md-3 min-height-box-menu">
                        <a class="hi-icon hi-icon-list-ul" ng-click="show_reporte_maquina()">
                            <div style="margin-top: 9px;">
                                <span class="font-madecentro">Programación Máquina</span>
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 min-height-box-menu">
                        <a class="hi-icon hi-icon-list-ul" ng-click="show_reporte_servicios_especiales()">
                            <div style="margin-top: 9px;">
                                <span class="font-madecentro">Serv. Especiales</span>
                            </div>
                        </a>
                    </div>
                </div>
            </section>
        </div>

    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="button">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmConfirmarInicioGestionOPConEtapaPreviaPendiente.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Notificación!</h4>
    </div>
    <div class="modal-body">
        <div class="alert alert-warning" role="alert" style="font-size: 20px !important;">
            <strong>
                <i class="fa fa-exclamation-triangle" style="font-size: 21px;"></i>
                Existe una orden de producción pendiente por gestionar!
            </strong> Desea continuar con la orden ingresada?.
        </div>
        <hr />
        <div class="row no-margin" style="font-size: 21px;">
            <div class="col-md-7"
                 style="padding-top: 15px; padding-bottom: 15px;">
                <div class="form-group">
                    <span>Etapa: </span>
                    <label> {{data_etapa_previa.barcode_etapa}}</label>
                    <label><u>{{data_etapa_previa.d_grupo_servicio}}</u></label>
                </div>
                <div class="form-group">
                    <span>Inicio: </span>
                    <label> {{data_etapa_previa.fh_inicio | toMomentDateWithoutYear}}</label>
                </div>
                <div class="form-group">
                    <span>Fin: </span>
                    <label> {{data_etapa_previa.fh_fin | toMomentDateWithoutYear}}</label>
                </div>
            </div>
            <div class="col-md-5"
                 style="padding-top: 15px; padding-bottom: 15px; text-align: center; padding-left: 0; padding-right: 0;">

                <div class="btn-group">
                    <button class="btn btn-default"
                            ng-click="open_cotizacion(data_etapa_previa)"
                            style="min-width: 100px; min-height: 95px;"
                            type="button">
                        <i class="glyphicon glyphicon-list-alt"
                           style="font-size: 55px; cursor: pointer"
                           title="Cotización"></i><br />
                        <span class="font_size_16px">Cotización</span>
                    </button>
                    <button class="btn btn-default"
                            ng-click="open_despiece(data_etapa_previa)"
                            style="min-width: 100px; min-height: 95px;"
                            type="button">
                        <i class="fa fa-clone"
                           style="font-size: 55px; cursor: pointer"
                           title="Despiece"></i><br />
                        <span class="font_size_16px">Despiece</span>
                    </button>
                </div>
            </div>
        </div>
        <div class="row no-margin" style="font-size: 21px; padding-left: 15px;padding-right: 15px">
            <span>Producto: </span><br />
            <ul>
                <li ng-repeat="item in data_etapa_previa.referencias_etapa">
                    <label>{{item.referencia_producto}}</label>
                    <label>{{item.descripcion_referencia}}</label>
                </li>
            </ul>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="ok()" type="button">Aceptar</button>
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="button">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmOperariosCO.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Operarios Centro Operación</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div ng-repeat="operario in listOperariosCO">
                <div class="col-md-2" ng-click="operario_selected(operario)">
                    <div class="info-box box-operario-gestion-etapa" style="min-height: 120px;">
                        <span class="info-box-icon bg-avatar-operario-gestion-etapa" style="width: 64px;">
                            <!--<i class="fa fa-user-o"></i>-->
                            <img alt="zoom"
                                 ng-src="{{::dominio}}/SGD/GH/PE/FPER/{{operario.cedula}}.jpg"
                                 onerror="this.src = 'Assets/img/placeholder.png';"
                                 style="cursor: pointer; text-align: left; margin-bottom: 15px;width: 80px;height: 70px;border-radius: 12%;">
                        </span>
                        <div class="info-box-content" style="margin-left: 55px;">
                            <span class="info-box-cedula">{{operario.cedula}}</span>
                            <span class="info-box-texto-principal" style="font-size:15px">{{operario.nombre_operario}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-defaut font-size-button btn-lg" ng-click="cancel()" type="submit">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmMaquinasGestionEtapa.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Máquinas Centro Operación</h4>
        <br />
        <div class="row">
            <i class="fa fa-circle" style="color:#c9302c;font-size: 25px;"></i>
            <span>Máquina no operativa</span>
            <span> | </span>
            <i class="fa fa-circle" style="color:#00c0ef;font-size: 25px;"></i>
            <span>Máquina ausencia operario</span>
        </div>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div ng-repeat="maquina in listMaquinasGestionEtapa">
                <div class="col-md-4"
                     ng-click="maquina_selected(maquina)">
                    <div class="info-box box-maquina-gestion-etapa"
                         ng-class="{'maquina-restriccion-gestion-etapa' : maquina.c_estado == id_estado_maquina_operativa_problemas,
                                    'maquina-ausencia-operario' : maquina.sw_ausencia_operario && maquina.c_estado != id_estado_maquina_no_operativa,
                                    'maquina-no-operativa-gestion-etapa' : maquina.c_estado == id_estado_maquina_no_operativa,
                                    'maquina-mtto-preventivo-gestion-etapa' : maquina.c_estado == id_estado_maquina_mtto_preventivo}"
                         tooltip-placement="top"
                         uib-tooltip="{{maquina.d_estado}}">
                        <span class="info-box-icon bg-avatar-operario-gestion-etapa"> 
                            <img alt="zoom"
                                 class="img-circle"
                                 ng-src="{{::dominio}}/SGD/MTO/TMQ/{{maquina.c_tipo_maquina}}.jpg"
                                 onerror="this.src = 'Assets/img/placeholder.png';"
                                 style="cursor: pointer; text-align: left; margin-bottom: 15px;width: 80px;height: 80px;">
                        </span>
                        <div class="info-box-content" style="padding-top: 24px;">
                            <span class="info-box-texto-principal">
                                <i ng-if="maquina.c_estado == id_estado_maquina_mtto_preventivo"
                                   style="font-size: 20px;"
                                   class="fa fa-exclamation-triangle"></i>{{maquina.d_maquina}}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-defaut font-size-button btn-lg"
                ng-click="cancel()"
                type="submit">
            Cancelar
        </button>
    </div>
</script>

<script type="text/ng-template" id="frmOrdenesProduccionForGestionOperario.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Ordenes por Gestionar</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <uib-tabset active="activeTab">
                <uib-tab index="0" heading="Pendientes Inicio ({{listOpGestionPendiente.length}})" ng-if="is_srv_especial && is_nueva_gestion">
                    <div class="box box-default"
                         style="margin-top: 15px;">
                        <div class="box-body">
                            <div ng-repeat="item in listOpGestionPendiente">
                                <div class="col-md-4">
                                    <div class="info-box box-orden-asignada-maquina">
                                        <div class="info-box-icon bg-avatar-operario-gestion-etapa" style="height: 210px;padding: 6px;">
                                            
                                            <div class="btn-group-vertical">
                                                <button class="btn btn-default"
                                                        ng-click="open_despiece(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <img src="./Assets/img/ico-cortar.png" style="width: 58px;height: 55px;" />
                                                </button>                                   
                                                <button class="btn btn-info btn-circle"
                                                        ng-click="show_detalle_gestion_op(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <i class="fa fa-info" style="font-size: 42px;"></i>
                                                </button> 
                                            </div>
                                        </div>
                                        <div class="info-box-content"
                                             ng-click="orden_selected(item)"
                                             style="min-height: 210px;">
                                            <span class="info-box-texto-principal">OV {{item.c_centro_operacion}}-{{item.cs_id_orden_venta_co}}</span>
                                            <span class="info-box-texto-principal">OP {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}</span>
                                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                                            <span class="info-box-texto-simple">{{item.nombres_cliente}} {{item.apellidos_cliente}}</span>

                                            <span class="info-box-texto-simple"
                                                  ng-if="item.fh_inicio != null">
                                                <i class="fa fa-calendar"
                                                   uib-tooltip="Fecha Inicio"
                                                   tooltip-placement="right"
                                                   tooltip-trigger="mouseenter"></i>
                                                {{item.fh_inicio | toMomentDateWithoutYear}}
                                            </span>

                                            <i class="fa fa-certificate indicador_op_garantia"
                                               ng-show="item.sw_garantia"
                                               uib-tooltip="OP de Garantia"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                                               ng-show="item.sw_op_extra_laboral"
                                               uib-tooltip="OP Extra Laboral"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="glyphicon glyphicon-flash indicador_op_express"
                                               ng-if="item.sw_op_express"
                                               uib-tooltip="OP Express"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>
                                                                                        
                                            <div ng-if="item.c_grupo_servicio != c_grupo_servicio_corte && item.c_grupo_servicio != c_grupo_servicio_enchape"
                                                 ng-repeat="rec in item.list_refs_servicios_etapa"
                                                 style="font-size: 13px;">
                                                •<b>{{rec.referencia_producto}}</b>-{{rec.descripcion_referencia}}
                                            </div>
                                                                                                                      
                                            <div ng-if="item.list_data_operarios_gestion_etapas.length > 0">
                                                <hr style="margin-top: 5px;margin-bottom: 5px;"/>
                                                <div class="row no-margin" ng-if="item.list_data_operarios_gestion_etapas.length > 0">
                                                    
                                                    <div class="table-responsive">
                                                        <table class="table no-margin table-condensed font_size_11px"
                                                               style="background: inherit;">
                                                            <tbody>
                                                                <tr ng-repeat="option in item.list_data_operarios_gestion_etapas">
                                                                    <td>
                                                                        <img ng-if="option.c_grupo_servicio == c_grupo_servicio_corte" src="./Assets/img/ico-cortar.png" style="width: 22px;height: 22px;" title="Corte">
                                                                        <img ng-if="option.c_grupo_servicio == c_grupo_servicio_enchape" src="./Assets/img/regla.png" style="width: 22px;" title="Echape">
                                                                        - <span>{{option.operario}}</span>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="1" heading="Iniciadas ({{listOpGestionIniciada.length}})" ng-hide="is_srv_especial && is_nueva_gestion">
                    <div class="box box-warning"
                         style="margin-top: 15px;">
                        <div class="box-body">
                            <div ng-repeat="item in listOpGestionIniciada">
                                <div class="col-md-3">
                                    <div class="info-box box-orden-asignada-maquina">
                                        <div class="info-box-icon bg-avatar-operario-gestion-etapa" style="height: 250px;padding: 6px;">
                                            <div class="btn-group-vertical">
                                                <button class="btn btn-default"
                                                        ng-click="open_despiece(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <img src="./Assets/img/ico-cortar.png" style="width: 58px;height: 55px;" />
                                                </button>
                                                <button class="btn btn-circle"
                                                        ng-class="{'btn-danger' : item.sw_op_suspendida, 'btn-default' : !item.sw_op_suspendida }"
                                                        ng-click="confirmar_suspension_etapa(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <i class="ion ion-android-hand" style="font-size: 40px;"></i>
                                                </button>
                                                <button class="btn btn-info btn-circle"
                                                        ng-click="show_detalle_gestion_op(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <i class="fa fa-info" style="font-size: 42px;"></i>
                                                </button>
                                            </div> 
                                        </div>
                                        <div class="info-box-content"
                                             ng-click="orden_selected(item)"
                                             style="min-height: 250px;">
                                            <span class="info-box-texto-principal">OV {{item.c_centro_operacion}}-{{item.cs_id_orden_venta_co}}</span>
                                            <span class="info-box-texto-principal">OP {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}</span>
                                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                                            <span class="info-box-texto-simple">{{item.nombres_cliente}} {{item.apellidos_cliente}}</span>

                                            <span class="info-box-texto-simple"
                                                  ng-if="item.fh_inicio != null">
                                                <i class="fa fa-calendar"
                                                   uib-tooltip="Fecha Inicio"
                                                   tooltip-placement="right"
                                                   tooltip-trigger="mouseenter"></i>
                                                {{item.fh_inicio | toMomentDateWithoutYear}}
                                            </span>

                                            <i class="fa fa-certificate indicador_op_garantia"
                                               ng-show="item.sw_garantia"
                                               uib-tooltip="OP de Garantia"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                                               ng-show="item.sw_extra_laboral"
                                               uib-tooltip="Etapa Extra Laboral"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="glyphicon glyphicon-flash indicador_op_express"
                                               ng-if="item.sw_op_express"
                                               uib-tooltip="OP Express"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <div ng-if="item.c_grupo_servicio != c_grupo_servicio_corte && item.c_grupo_servicio != c_grupo_servicio_enchape"
                                                 ng-repeat="rec in item.list_refs_servicios_etapa"
                                                 style="font-size: 13px;">
                                                •<b>{{rec.referencia_producto}}</b>-{{rec.descripcion_referencia}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="2" heading="Iniciadas Otros Operarios ({{listOpGestionIniciadaOtros.length}})" ng-hide="is_srv_especial && is_nueva_gestion">
                    <div class="box box-warning"
                         style="margin-top: 15px;">
                        <div class="box-body">
                            <div class="row no-margin text-center">
                                <div class="form-inline">
                                    <div class="form-group">
                                        <label>Cliente</label>
                                        <input class="form-control input-lg"
                                               ng-click-select
                                               ng-model="filtro_cliente.value"
                                               placeholder="Ingrese nombre...">
                                    </div>
                                    <div class="form-group">
                                        <label>OV</label>
                                        <input class="form-control input-lg"
                                               ng-click-select
                                               ng-model="filtro_ov.value"
                                               placeholder="Ingrese OV..."
                                               type="text">
                                    </div>
                                    <div class="form-group">
                                        <label>OP</label>
                                        <input class="form-control input-lg"
                                               ng-click-select
                                               ng-model="filtro_op.value"
                                               placeholder="Ingrese OP..."
                                               type="text">
                                    </div>
                                    <div class="form-group">
                                        <label>Estado Etapa</label>
                                        <select class="form-control input-lg" ng-model="is_etapa_suspendida.value">
                                            <option value="">---</option>
                                            <option value="0">Iniciadas</option>
                                            <option value="1">Suspendidas</option>
                                        </select>
                                    </div>

                                    <button type="button" class="btn btn-mdc" ng-click="limpiar_filtros()" title="Limpiar Filtros">
                                        <i class="fa fa-paint-brush"
                                           style="font-size: 29px;"></i>
                                    </button>
                                </div>
                            </div>
                            <hr />
                            <div ng-repeat="item in listOpGestionIniciadaOtros
                                          | filter : { cliente : filtro_cliente.value }
                                          | filter : { orden_venta : filtro_ov.value }
                                          | filter : { orden_produccion : filtro_op.value }
                                          | filter : { is_etapa_suspendida : is_etapa_suspendida.value }">
                                <div class="col-md-4">
                                    <div class="info-box box-orden-asignada-maquina">
                                        <div class="info-box-icon bg-avatar-operario-gestion-etapa" style="height: 250px;padding: 6px;">
                                            <div class="btn-group-vertical">
                                                <button class="btn btn-default"
                                                        ng-click="open_despiece(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <img src="./Assets/img/ico-cortar.png" style="width: 58px;height: 55px;" />
                                                </button>
                                                <button class="btn btn-circle"
                                                        ng-show="item.is_etapa_suspendida == 1"
                                                        ng-class="{'btn-danger' : item.is_etapa_suspendida == 1, 'btn-default' : item.is_etapa_suspendida == 0 }"
                                                        style="width: 80px; height: 80px; cursor:not-allowed">
                                                    <i class="ion ion-android-hand" style="font-size: 40px;"></i>
                                                </button>
                                                <button class="btn btn-info btn-circle"
                                                        ng-click="show_detalle_gestion_op(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <i class="fa fa-info" style="font-size: 42px;"></i>
                                                </button>
                                            </div> 
                                        </div>

                                        <div class="info-box-content"
                                             ng-click="orden_iniciada_otros_selected(item)"
                                             style="min-height: 290px;">
                                            <span class="info-box-texto-principal">OV {{item.orden_venta}}</span>
                                            <span class="info-box-texto-principal">OP {{item.orden_produccion}}</span>
                                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                                            <span class="info-box-texto-simple">{{item.nombres_cliente}} {{item.apellidos_cliente}}</span>

                                            <span class="info-box-texto-simple"
                                                  ng-if="item.fh_inicio != null">
                                                <i class="fa fa-calendar"
                                                   uib-tooltip="Fecha Inicio"
                                                   tooltip-placement="right"
                                                   tooltip-trigger="mouseenter"></i>
                                                {{item.fh_inicio | toMomentDateWithoutYear}}
                                            </span>

                                            <i class="fa fa-certificate indicador_op_garantia"
                                               ng-show="item.sw_garantia"
                                               uib-tooltip="OP de Garantia"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                                               ng-show="item.sw_op_extra_laboral"
                                               uib-tooltip="OP Extra Laboral"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="glyphicon glyphicon-flash indicador_op_express"
                                               ng-if="item.sw_op_express"
                                               uib-tooltip="OP Express"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <div ng-if="item.c_grupo_servicio != c_grupo_servicio_corte && item.c_grupo_servicio != c_grupo_servicio_enchape"
                                                 ng-repeat="rec in item.list_refs_servicios_etapa"
                                                 style="font-size: 13px;">
                                                •<b>{{rec.referencia_producto}}</b>-{{rec.descripcion_referencia}}
                                            </div>
                                            
                                            <!-- mostrar resumen de gestión de etapas solo de etapas de corte y enchape -->
                                            <div ng-if="item.list_data_operarios_gestion_etapas.length > 0">
                                                <hr style="margin-top: 5px;margin-bottom: 5px;" />
                                                <div class="row no-margin" ng-if="item.list_data_operarios_gestion_etapas.length > 0">
                                                    <!--tabla detallando la gestion de operarios-->
                                                    <div class="table-responsive">
                                                        <table class="table no-margin table-condensed font_size_11px"
                                                               style="background: inherit;">
                                                            <tbody>
                                                                <tr ng-repeat="option in item.list_data_operarios_gestion_etapas">
                                                                    <td>
                                                                        <img ng-if="option.c_grupo_servicio == c_grupo_servicio_corte" src="./Assets/img/ico-cortar.png" style="width: 22px;height: 22px;" title="Corte">
                                                                        <img ng-if="option.c_grupo_servicio == c_grupo_servicio_enchape" src="./Assets/img/regla.png" style="width: 22px;" title="Echape">
                                                                        - <span>{{option.operario}}</span>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="3" ng-click="limpiar_data_extra_laboral()">
                    <uib-tab-heading>
                        <i class="fa fa-history" style="font-size: 19px;"></i> Extra Laboral
                    </uib-tab-heading>
                    <div class="box box-warning"
                         style="margin-top: 15px;">
                        <div class="box-body">
                            <div class="row no-margin text-center">
                                <div class="form-inline">
                                    <div class="form-group">
                                        <label>OV</label>
                                        <input class="form-control input-lg"
                                               disabled
                                               ng-model="c_centro_operacion"
                                               style="width: 65px;"
                                               type="text">
                                    </div>
                                    <div class="form-group">
                                        <label class="sr-only"># ov</label>
                                        <div class="input-group">

                                            <input autofocus
                                                   class="form-control input-lg"
                                                   id="input_cs_id_ov_co"
                                                   ng-click-select
                                                   ng-model="filtro_ov_extra_laboral.value"
                                                   placeholder="Ingrese OV..."
                                                   type="text">
                                            <div class="input-group-addon btn-mdc" ng-click="get_ops_by_ov_for_extra_laboral()">
                                                <i class="fa fa-search" style="font-size: 19px;"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <div ng-repeat="item in listOpGestionExtraLaboral">
                                <div class="col-md-4">
                                    <div class="info-box box-orden-asignada-maquina">                                                                             
                                        <div class="info-box-icon bg-avatar-operario-gestion-etapa" style="height: 210px;padding: 6px;">
                                            <div class="btn-group-vertical">
                                                <button class="btn btn-default"
                                                        ng-click="open_despiece(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <img src="./Assets/img/ico-cortar.png" style="width: 58px;height: 55px;" />
                                                </button>
                                                <button class="btn btn-circle"
                                                        ng-show="item.is_etapa_suspendida == 1"
                                                        ng-class="{'btn-danger' : item.is_etapa_suspendida == 1, 'btn-default' : item.is_etapa_suspendida == 0 }"
                                                        style="width: 80px; height: 80px; cursor:not-allowed">
                                                    <i class="ion ion-android-hand" style="font-size: 40px;"></i>
                                                </button>
                                                <button class="btn btn-info btn-circle"
                                                        ng-click="show_detalle_gestion_op(item)"
                                                        style="width: 80px; height: 80px;">
                                                    <i class="fa fa-info" style="font-size: 42px;"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="info-box-content"
                                             ng-click="orden_selected(item)"
                                             style="min-height: 210px;">
                                            <span class="info-box-texto-principal">OV {{item.c_centro_operacion}}-{{item.cs_id_orden_venta_co}}</span>
                                            <span class="info-box-texto-principal">OP {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}</span>
                                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                                            <span class="info-box-texto-simple">{{item.nombres_cliente}} {{item.apellidos_cliente}}</span>

                                            <span class="info-box-texto-simple"
                                                  ng-if="item.fh_inicio != null">
                                                <i class="fa fa-calendar"
                                                   uib-tooltip="Fecha Inicio"
                                                   tooltip-placement="right"
                                                   tooltip-trigger="mouseenter"></i>
                                                {{item.fh_inicio | toMomentDateWithoutYear}}
                                            </span>

                                            <i class="fa fa-certificate indicador_op_garantia"
                                               ng-show="item.sw_garantia"
                                               uib-tooltip="OP de Garantia"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                                               ng-show="item.sw_op_extra_laboral"
                                               uib-tooltip="OP Extra Laboral"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="glyphicon glyphicon-flash indicador_op_express"
                                               ng-if="item.sw_op_express"
                                               uib-tooltip="OP Express"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <div ng-if="item.c_grupo_servicio != c_grupo_servicio_corte && item.c_grupo_servicio != c_grupo_servicio_enchape"
                                                 ng-repeat="rec in item.list_refs_servicios_etapa"
                                                 style="font-size: 13px;">
                                                •<b>{{rec.referencia_producto}}</b>-{{rec.descripcion_referencia}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-defaut font-size-button btn-lg"
                ng-click="cancel()"
                type="submit">
            Cancelar
        </button>
    </div>
</script>

<script type="text/ng-template" id="frmOrdenesEntregaCliente.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Ordenes Entrega Cliente</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin text-center">
            <div class="form-inline">
                <div class="form-group">
                    <label>Cliente</label>
                    <input class="form-control input-lg"
                           ng-click-select
                           ng-model="filtro_cliente"
                           placeholder="Ingrese nombre...">
                </div>
                <div class="form-group">
                    <label>OV</label>
                    <input class="form-control input-lg"
                           ng-click-select
                           ng-model="filtro_ov"
                           placeholder="Ingrese OV..."
                           type="text">
                </div>
                <div class="form-group">
                    <label>OP</label>
                    <input class="form-control input-lg"
                           ng-click-select
                           ng-model="filtro_op"
                           placeholder="Ingrese OP..."
                           type="text">
                </div>

                <button type="button" class="btn btn-mdc" ng-click="limpiar_filtros()" title="Limpiar Filtros">
                    <i class="fa fa-paint-brush"
                       style="font-size: 29px;"></i>
                </button>
            </div>
        </div>
        <hr />
        <div class="row no-margin">
            <div ng-repeat="item in listOrdenesEntregaCliente
                  | filter : { cliente : filtro_cliente }
                  | filter : { orden_venta : filtro_ov }
                  | filter : { orden_produccion : filtro_op }">
                <div class="col-md-3">
                    <div class="info-box box-orden-asignada-maquina">
                        <div class="info-box-icon bg-avatar-operario-gestion-etapa" style="height: 172px;padding: 6px;">

                            <div class="btn-group-vertical">
                                <button class="btn btn-default"
                                        ng-click="open_despiece(item)"
                                        style="width: 80px; height: 80px;">
                                    <img src="./Assets/img/ico-cortar.png" style="width: 58px;height: 55px;" />
                                </button>
                                <button class="btn btn-info btn-circle"
                                        ng-click="show_detalle_gestion_op(item)"
                                        style="width: 80px; height: 80px;">
                                    <i class="fa fa-info" style="font-size: 42px;"></i>
                                </button>
                            </div>
                        </div>                        
                        <div class="info-box-content"
                             ng-click="orden_selected(item)"
                             style="min-height: 172px;">
                            <span class="info-box-texto-principal">OV {{item.orden_venta}}</span>
                            <span class="info-box-texto-principal">OP {{item.orden_produccion}}</span>
                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                            <span class="info-box-texto-simple">{{item.cliente}}</span>

                            <i class="fa fa-certificate indicador_op_garantia"
                               ng-show="item.sw_garantia"
                               uib-tooltip="OP de Garantia"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>

                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                               ng-show="item.sw_op_extra_laboral"
                               uib-tooltip="OP Extra Laboral"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>

                            <i class="glyphicon glyphicon-flash indicador_op_express"
                               ng-if="item.sw_op_express"
                               uib-tooltip="OP Express"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-defaut font-size-button btn-lg"
                ng-click="cancel()"
                type="submit">
            Cancelar
        </button>
    </div>
</script>

<script type="text/ng-template" id="frmIngresoPiezasCortadasEntregaOP.html">
    <div class="modal-header text-center">
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Ingrese la cantidad de piezas elaboradas</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <input class="form-control"
                   autofocus
                   id="cantidad_piezas_cortadas_entrega"
                   min="1"
                   ng-model="objGestionEtapaOp.cantidad_piezas_cortadas_entrega"
                   style="font-size: 20px;"
                   type="number"
                   ng-click-select>
            <span id="helpBlock" class="help-block">Cantidad máxima piezas permitida: {{saldo_cantidad_piezas_cortadas}}</span>
        </div>
        <hr />
        <div class="row no-margin text-center">
            <button class="btn btn-mdc btn-circle btn-porcentaje-gestion-etapa" ng-click="objGestionEtapaOp.cantidad_piezas_cortadas_entrega = saldo_cantidad_piezas_cortadas">
                {{saldo_cantidad_piezas_cortadas}}
            </button>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="ok()" type="submit">OK</button>
        <button class="btn btn-default font-size-button" ng-click="cancel()" type="submit">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmSeleccionSucursal.html">
    <div class="modal-header text-center">
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Seleccione Sucursal</h4>
    </div>
    <div class="modal-body">
        <ul style="padding-left: 0 !important;">
            <li class="btn-mdc"
                ng-click="set_sucursal(option)"
                ng-repeat="option in list_sucursales"
                style="list-style-type:none; text-align: center; border-radius: 7px; margin-bottom: 10px; margin-top: 20px; ">
                <a style="color: white; white-space: normal;" class="btn btn-lg">
                    <span class="glyphicon glyphicon-home"></span>
                    &nbsp;{{option.c_centro_operacion}} - {{option.NombreSucursal}}
                </a>
            </li>
        </ul>
    </div>
</script>

<script type="text/ng-template" id="frmConfirmacionSeleccionMaquina.html">
    <div class="modal-header text-center">
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Notificación</h4>
    </div>
    <div class="modal-body font_size_18px">
        <span>Está seguro de continuar con la máquina: </span><br />
        <span> [ {{obj_data_gestion_etapa.d_maquina}} ]?</span>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button btn-lg" ng-click="ok()" type="submit">OK</button>
        <!--<button class="btn btn-mdc font-size-button btn-lg" ng-click="get_maquina_servicio()" type="submit">Otras Máquinas</button>-->
        <button class="btn btn-default font-size-button btn-lg" ng-click="cancel()" type="submit">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmResumenPlaneacionEtapasOPDia.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;"> Planeación | OP {{data_etapas_programadas.data_solicitud.c_centro_operacion_orden_produccion}}-{{data_etapas_programadas.data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body" style="background-color: #ececec;">
        <!--<div class="alert alert-warning" role="alert" ng-if="show_notificacion_etapas.value">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Error:</span>
            La fecha seleccionada <b>[{{data_etapas_programadas.fecha_sugerida_programacion | toDateWithoutYear}}]</b>, no se encuentra disponible para la programación
            de algunas etapas.
        </div>-->
        <div class="row no-margin"
             ng-repeat="item in data_etapas_programadas.servicios_op" repeat-done="manage_data()">

            <!--box srv corte-->
            <div class="box box-success" ng-if="item.c_grupo_servicio == id_grupo_servicios_corte">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00a65a;">
                            {{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed font_size_12px">
                            <thead>
                                <tr>
                                    <!--<th>Fecha Producción</th>-->
                                    <th>Cantidad Producción Dia</th>
                                    <th>Minutos Producción Dia</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.list_cant_produccion_etapa_dia">
                                    <!--<td>
                                        <span>{{option.f_produccion | toDateWithoutYear}}</span>
                                    </td>-->
                                    <td>
                                        <span>{{option.cant_produccion_dia}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.minutos_etapa_dia}}</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- /.table-responsive -->
                </div>
            </div>

            <!--box srv enchape-->
            <div class="box box-info" ng-if="item.c_grupo_servicio == id_grupo_servicios_enchape">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00c0ef;">
                            {{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed font_size_12px">
                            <thead>
                                <tr>
                                    <!--<th>Fecha Producción</th>-->
                                    <th>Cantidad Producción Dia</th>
                                    <th>Minutos Producción Dia</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.list_cant_produccion_etapa_dia">
                                    <!--<td>
                                        <span>{{option.f_produccion | toDateWithoutYear}}</span>
                                    </td>-->
                                    <td>
                                        <span>{{option.cant_produccion_dia}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.minutos_etapa_dia}}</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!--box srv especiales-->
            <div class="box" ng-if="item.c_grupo_servicio != id_grupo_servicios_enchape && item.c_grupo_servicio != id_grupo_servicios_corte">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #868686;">
                            {{item.d_grupo_servicio}}
                        </h3>
                    </div>
                    <div class="text-right col-md-3">
                        <div ng-show="item.d_dependencia != null">
                            <img src="Assets/img/dependency-img.png"
                                 style="width: 20px;"
                                 tooltip-placement="top"
                                 uib-tooltip="Dependencia" />
                            <b style="font-size: 13px;">{{item.d_dependencia}}</b>
                        </div>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-striped table-condensed font_size_12px">
                            <thead>
                                <tr>
                                    <!--<th>Fecha Producción</th>-->
                                    <th>Cantidad Producción Dia</th>
                                    <th>Minutos Producción Dia</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="option in item.list_cant_produccion_etapa_dia">
                                    <!--<td>
                                        <span>{{option.f_produccion | toDateWithoutYear}}</span>
                                    </td>-->
                                    <td>
                                        <span>{{option.cant_produccion_dia}}</span>
                                    </td>
                                    <td>
                                        <span>{{option.minutos_etapa_dia}}</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="submit">OK</button>
    </div>
</script>

<script type="text/ng-template" id="frmOrdenesProduccionForAnulacionGestionOperario.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Ordenes Gestionadas Operario</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <uib-tabset active="activeJustified">
                <uib-tab index="0" heading="Iniciadas ({{listOpGestionIniciada.length}})">
                    <div class="box box-warning"
                         style="margin-top: 15px;">
                        <div class="box-body">
                            <div ng-repeat="item in listOpGestionIniciada">
                                <div class="col-md-3">
                                    <div class="info-box box-orden-asignada-maquina">
                                        <span class="info-box-icon bg-avatar-operario-gestion-etapa">
                                            <button class="btn btn-default btn-circle"
                                                    ng-click="open_despiece(item)"
                                                    style="width: 80px; height: 80px; border-radius: 50%;">
                                                <img src="./Assets/img/ico-cortar.png" style="width: 70px;height: 55px;" />
                                            </button>
                                        </span>
                                        <div class="info-box-content"
                                             ng-click="orden_selected(item)"
                                             style="min-height: 172px;">
                                            <span class="info-box-texto-principal">OV {{item.c_centro_operacion}}-{{item.cs_id_orden_venta_co}}</span>
                                            <span class="info-box-texto-principal">OP {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}</span>
                                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                                            <span class="info-box-texto-simple">{{item.nombres_cliente}} {{item.apellidos_cliente}}</span>

                                            <span class="info-box-texto-simple"
                                                  ng-if="item.fh_inicio != null">
                                                <i class="fa fa-calendar"
                                                   uib-tooltip="Fecha Inicio"
                                                   tooltip-placement="right"
                                                   tooltip-trigger="mouseenter"></i>
                                                {{item.fh_inicio | toMomentDateWithoutYear}}
                                            </span>

                                            <i class="fa fa-certificate indicador_op_garantia"
                                               ng-show="item.sw_garantia"
                                               uib-tooltip="OP de Garantia"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                                               ng-show="item.sw_extra_laboral"
                                               uib-tooltip="Etapa Extra Laboral"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="glyphicon glyphicon-flash indicador_op_express"
                                               ng-if="item.sw_op_express"
                                               uib-tooltip="OP Express"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="1" heading="Terminadas ({{listOpGestionTerminada.length}})">
                    <div class="box box-default"
                         style="margin-top: 15px;">
                        <div class="box-body">
                            <div ng-repeat="item in listOpGestionTerminada">
                                <div class="col-md-3">
                                    <div class="info-box box-orden-asignada-maquina">
                                        <span class="info-box-icon bg-avatar-operario-gestion-etapa">
                                            <button class="btn btn-default btn-circle"
                                                    ng-click="open_despiece(item)"
                                                    style="width: 80px; height: 80px; border-radius: 50%;">
                                                <img src="./Assets/img/ico-cortar.png" style="width: 70px;height: 55px;" />
                                            </button>
                                        </span>
                                        <div class="info-box-content"
                                             ng-click="orden_selected(item)"
                                             style="min-height: 172px;">
                                            <span class="info-box-texto-principal">OV {{item.c_centro_operacion}}-{{item.cs_id_orden_venta_co}}</span>
                                            <span class="info-box-texto-principal">OP {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}</span>
                                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                                            <span class="info-box-texto-simple">{{item.nombres_cliente}} {{item.apellidos_cliente}}</span>

                                            <span class="info-box-texto-simple"
                                                  ng-if="item.fh_inicio != null">
                                                <i class="fa fa-calendar"
                                                   uib-tooltip="Fecha Inicio"
                                                   tooltip-placement="right"
                                                   tooltip-trigger="mouseenter"></i>
                                                {{item.fh_inicio | toMomentDateWithoutYear}}
                                            </span>

                                            <i class="fa fa-certificate indicador_op_garantia"
                                               ng-show="item.sw_garantia"
                                               uib-tooltip="OP de Garantia"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                                               ng-show="item.sw_extra_laboral"
                                               uib-tooltip="Etapa Extra Laboral"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                            <i class="glyphicon glyphicon-flash indicador_op_express"
                                               ng-if="item.sw_op_express"
                                               uib-tooltip="OP Express"
                                               tooltip-placement="right"
                                               tooltip-trigger="mouseenter"></i>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-defaut font-size-button btn-lg"
                ng-click="cancel()"
                type="submit">
            Cancelar
        </button>
    </div>
</script>

<script type="text/ng-template" id="frmGestionMaquinas.html">
    <!--<div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Gestión Máquinas</h4>
    </div>-->
    <div class="modal-body">

        <uib-accordion close-others="oneAtATime">

            <div uib-accordion-group class="panel-default big-panel" is-open="list_accordions.open_acc_maquinas">
                <uib-accordion-heading>
                    <div ng-click="on_click_acc_maquinas()">
                        <button class="btn btn-mdc btn-circle">
                            <i class="fa fa-plus-circle fa-3x"></i>
                        </button>
                        <span ng-show="obj_maquina_selected.d_maquina != undefined">
                            Máquina Seleccionada | <b style="font-size: larger;">{{obj_maquina_selected.d_maquina}}</b>
                        </span>
                        <span ng-show="obj_maquina_selected.d_maquina == undefined">
                            Selección de Máquina
                        </span>
                        <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': list_accordions.open_acc_maquinas, 'glyphicon-chevron-right': !list_accordions.open_acc_maquinas}"></i>
                    </div>
                </uib-accordion-heading>
                <div class="row no-margin">
                    <div ng-repeat="maquina in listMaquinasGestionEtapa">
                        <div class="col-md-4"
                             ng-click="maquina_selected(maquina)">
                            <div class="info-box box-maquina-gestion-etapa"
                                 ng-class="{'maquina-restriccion-gestion-etapa' : maquina.c_estado == id_estado_maquina_operativa_problemas,
                                    'maquina-ausencia-operario' : maquina.sw_ausencia_operario && maquina.c_estado != id_estado_maquina_no_operativa,
                                    'maquina-no-operativa-gestion-etapa' : maquina.c_estado == id_estado_maquina_no_operativa,
                                    'maquina-mtto-preventivo-gestion-etapa' : maquina.c_estado == id_estado_maquina_mtto_preventivo}"
                                 tooltip-placement="top"
                                 uib-tooltip="{{maquina.d_estado}}">
                                <span class="info-box-icon bg-avatar-operario-gestion-etapa">
                                    <img alt="zoom"
                                         class="img-circle"
                                         ng-src="{{::dominio}}/SGD/MTO/TMQ/{{maquina.c_tipo_maquina}}.jpg"
                                         onerror="this.src = 'Assets/img/placeholder.png';"
                                         style="cursor: pointer; text-align: left; margin-bottom: 15px;width: 80px;height: 80px;">
                                </span>
                                <div class="info-box-content" style="padding-top: 24px;">                                 
                                    <span class="info-box-texto-principal">
                                        <i ng-if="maquina.c_estado == id_estado_maquina_mtto_preventivo"
                                           style="font-size: 20px;"
                                           class="fa fa-exclamation-triangle"></i>{{maquina.d_maquina}}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr />
            <div uib-accordion-group class="panel-default" is-open="list_accordions.open_acc_registro_novedad_maquina">
                <uib-accordion-heading>
                    <div ng-click="on_click_acc_registro_novedad_maquina()">
                        <button class="btn btn-mdc btn-circle">
                            <i class="fa fa-plus-circle fa-3x"></i>
                        </button>
                        Registro de Novedades <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': list_accordions.open_acc_registro_novedad_maquina, 'glyphicon-chevron-right': !list_accordions.open_acc_registro_novedad_maquina}"></i>
                    </div>
                </uib-accordion-heading>
                <!--botones para seleccionar el tipo de novedad para la máquina-->
                <div class="row no-margin">

                    <table class="table table-bordered table-condensed">
                        <tr>
                            <td class="vertical-align-middle text-center" style="width: 50%;">
                                <a class="btn btn-app"
                                   ng-click="reportar_ausencia_operario()"
                                   ng-if="is_permisos_especiales()"
                                   style="color: #fff;background-color: #5bc0de;border-color: #46b8da;font-size: 18px;">
                                    <i class="fa fa-user-times"></i> Ausencia de operario
                                </a>
                                <a class="btn btn-app"
                                   ng-click="reportar_maquina_parada()"
                                   style="color: #fff;background-color: #d9534f;border-color: #d43f3a;font-size: 18px;">
                                    <i class="fa fa-exclamation-circle"></i> Máquina parada
                                </a>
                            </td>
                            <td class="vertical-align-middle">
                                <!--reporte de ausencia operario-->
                                <div class="row no-margin" ng-show="opciones_reporte_novedad.show_reporte_ausencia_operario">
                                    <div class="col-md-12">
                                        <div class="checkbox">
                                            <label>
                                                <input ng-model="is_maquina_operario_ausente.value"
                                                       ng-change="send_reporte_ausencia_operario()"
                                                       style="transform: scale(2.5);" type="checkbox">&nbsp; Máquina con operario ausente
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>

                </div>
            </div>
        </uib-accordion>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-defaut font-size-button btn-lg"
                ng-click="cancel()"
                type="submit">
            Cancelar
        </button>
    </div>
</script>

<script type="text/ng-template" id="frmMotivosSuspensionEtapa.html">
    <div class="modal-header text-center">
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Seleccione el motivo de suspensión etapa</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">
            <div ng-repeat="item in list_motivos_suspension_etapa" class="col-md-4 form-group">
                <button class="btn btn-default btn-lg"
                        ng-click="motivo_suspension_selected(item)"
                        style="padding: 20px; width: 100%">
                    <span>{{item.d_motivo_suspension_etapa}}</span>
                </button>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-defaut font-size-button btn-lg" ng-click="cancel()" type="submit">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmSeleccionTipoFallaMaq.html">
    <div class="modal-body">
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Tipo de falla o avería:</h4>
        <div class="row" style="margin: 20px 0 35px 0 !important;">
            <label class="checkbox-inline" ng-repeat="item in array_detalles_novedad_maquina">
                <input type="radio" id="cs_dt_novedad" name="cs_dt_novedad" ng-model="obj_maquina_novedad.dt_novedad_selected" value="{{item.c_dt_novedad}}" style="transform: scale(4); cursor: pointer">
                <span style="font-size: 15px;" class="font-madecentro">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{item.d_dt_novedad}}</span>
            </label>
        </div>
        <div class="row no-margin">
            <h4 class="modal-title font-madecentro" style="font-weight: 600;">Ingrese una observación:</h4>
            <textarea rows="6" ng-model="obj_maquina_novedad.observaciones" class="form-control" style=" font-size 15px; resize none; height 135px;"></textarea>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc btn-lg" ng-click="send_reporte_novedad_maquina_parada()" type="submit">Enviar</button>
        <button class="btn btn-default btn-lg" ng-click="cancel()" type="submit">Cancelar</button>
    </div>
</script>

<script type="text/ng-template" id="frmDetalleGestionEtapasOP.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Detalle Gestión Etapas | OP {{data_solicitud.c_centro_operacion_orden_produccion}}-{{data_solicitud.cs_id_orden_produccion_co}}</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin"
             ng-repeat="item in list_etapas_gestion_op" repeat-done="manage_data()">

            <!--box srv corte-->
            <div class="box box-success" ng-if="item.c_grupo_servicio == id_grupo_servicios_corte">
                <div class="box-header with-border">
                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00a65a;">
                            •{{item.d_grupo_servicio}} <span ng-show="item.list_data_operarios_gestion_etapa.length == 0"> (Gestión Pendiente)</span>
                        </h3>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-condensed font_size_11px"
                               style="background: inherit;">
                            <thead>
                                <tr>
                                    <th>Operario</th>
                                    <th>Máquina</th>
                                    <th>Fecha Inicio</th>
                                    <th>Fecha Fin</th>
                                    <th>% Elaborado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="rec in item.list_data_operarios_gestion_etapa">
                                    <td>
                                        <span>{{rec.operario}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.d_maquina}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.fh_inicio | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.fh_fin | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.pj_elaborado_operario || '0'}}%</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!--box srv enchape-->
            <div class="box box-info" ng-if="item.c_grupo_servicio == id_grupo_servicios_enchape">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #00c0ef;">
                            •{{item.d_grupo_servicio}} <span ng-show="item.list_data_operarios_gestion_etapa.length == 0"> (Gestión Pendiente)</span>
                        </h3>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-condensed font_size_11px"
                               style="background: inherit;">
                            <thead>
                                <tr>
                                    <th>Operario</th>
                                    <th>Máquina</th>
                                    <th>Fecha Inicio</th>
                                    <th>Fecha Fin</th>
                                    <th>% Elaborado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="rec in item.list_data_operarios_gestion_etapa">
                                    <td>
                                        <span>{{rec.operario}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.d_maquina}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.fh_inicio | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.fh_fin | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.pj_elaborado_operario || '0'}}%</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!--box srv especiales-->
            <div class="box" ng-if="item.c_grupo_servicio != id_grupo_servicios_enchape && item.c_grupo_servicio != id_grupo_servicios_corte">
                <div class="box-header with-border">

                    <div class="col-md-9">
                        <h3 class="box-title font-madecentro"
                            style="font-size: 16px;font-weight: 600;color: #868686;">
                            •{{item.d_grupo_servicio}} <span ng-show="item.list_data_operarios_gestion_etapa.length == 0"> (Gestión Pendiente)</span>
                        </h3>
                    </div>
                </div>
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin table-condensed font_size_11px"
                               style="background: inherit;">
                            <thead>
                                <tr>
                                    <th>Operario</th>
                                    <th>Máquina</th>
                                    <th>Fecha Inicio</th>
                                    <th>Fecha Fin</th>
                                    <th>% Elaborado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="rec in item.list_data_operarios_gestion_etapa">
                                    <td>
                                        <span>{{rec.operario}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.d_maquina}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.fh_inicio | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.fh_fin | toMomentDateWithoutYear}}</span>
                                    </td>
                                    <td>
                                        <span>{{rec.pj_elaborado_operario || '0'}}%</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc btn-lg" ng-click="cancel()" type="submit">SALIR</button>
    </div>
</script>

<script type="text/ng-template" id="frmConfirmacionInicioGestionOP.html">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" 
            style="font-size: 20px;">Gestión de OP Iniciada...</h3>
    </div>
    <div class="modal-body" style="padding-top: 0;">
        <div class="row text-center" style="padding: 15px;padding-bottom: 0;">
            <i class="fa fa-cog fa-spin" style="font-size: 80px;animation: fa-spin 4s infinite linear;animation-direction: reverse;"></i>
            <i class="fa fa-cog fa-spin" style="font-size: 40px;margin-left: -5px;animation: fa-spin 3s infinite linear;"></i>

        </div>
        <div class="row" style="padding: 15px;padding-top: 0">
            <span class="font-madecentro" style="font-size: 15px;">Gestión de orden de producción iniciada el: <br /><strong class="font-madecentro" style="font-size: 20px;">{{date_now}}</strong></span>
            
            <div ng-repeat="item in listOpGestionPendiente">
                <div class="row">
                    <div class="info-box box-orden-asignada-maquina" style="margin-bottom: 0;">
                        <div class="info-box-icon bg-avatar-operario-gestion-etapa" style="height: 210px;padding: 6px;">

                            <div class="btn-group-vertical">
                                <button class="btn btn-default"
                                        ng-click="open_despiece(item)"
                                        style="width: 80px; height: 80px;">
                                    <img src="./Assets/img/ico-cortar.png" style="width: 58px;height: 55px;" />
                                </button>
                                <button class="btn btn-info btn-circle"
                                        ng-click="show_detalle_gestion_op(item)"
                                        style="width: 80px; height: 80px;">
                                    <i class="fa fa-info" style="font-size: 42px;"></i>
                                </button>
                            </div>
                        </div>
                        <div class="info-box-content"                             
                             style="min-height: 210px;color: black;">
                            <span class="info-box-texto-principal">OV {{item.c_centro_operacion}}-{{item.cs_id_orden_venta_co}}</span>
                            <span class="info-box-texto-principal">OP {{item.c_centro_operacion_orden_produccion}}-{{item.cs_id_orden_produccion_co}}</span>
                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                            <span class="info-box-texto-simple">{{item.nombres_cliente}} {{item.apellidos_cliente}}</span>

                            <span class="info-box-texto-simple"
                                  ng-if="item.fh_inicio != null">
                                <i class="fa fa-calendar"
                                   uib-tooltip="Fecha Inicio"
                                   tooltip-placement="right"
                                   tooltip-trigger="mouseenter"></i>
                                {{item.fh_inicio | toMomentDateWithoutYear}}
                            </span>

                            <i class="fa fa-certificate indicador_op_garantia"
                               ng-show="item.sw_garantia"
                               uib-tooltip="OP de Garantia"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>

                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                               ng-show="item.sw_op_extra_laboral"
                               uib-tooltip="OP Extra Laboral"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>

                            <i class="glyphicon glyphicon-flash indicador_op_express"
                               ng-if="item.sw_op_express"
                               uib-tooltip="OP Express"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>

                            <div ng-if="item.c_grupo_servicio != c_grupo_servicio_corte && item.c_grupo_servicio != c_grupo_servicio_enchape"
                                 ng-repeat="rec in item.list_refs_servicios_etapa"
                                 style="font-size: 13px;">
                                •<b>{{rec.referencia_producto}}</b>-{{rec.descripcion_referencia}}
                            </div>

                            <div ng-if="item.list_data_operarios_gestion_etapas.length > 0">
                                <hr style="margin-top: 5px;margin-bottom: 5px;" />
                                <div class="row no-margin" ng-if="item.list_data_operarios_gestion_etapas.length > 0">

                                    <div class="table-responsive">
                                        <table class="table no-margin table-condensed font_size_11px"
                                               style="background: inherit;">
                                            <tbody>
                                                <tr ng-repeat="option in item.list_data_operarios_gestion_etapas">
                                                    <td>
                                                        <img ng-if="option.c_grupo_servicio == c_grupo_servicio_corte" src="./Assets/img/ico-cortar.png" style="width: 22px;height: 22px;" title="Corte">
                                                        <img ng-if="option.c_grupo_servicio == c_grupo_servicio_enchape" src="./Assets/img/regla.png" style="width: 22px;" title="Echape">
                                                        - <span>{{option.operario}}</span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="modal-footer" style="text-align: center;">
        <button class="btn btn-default btn-lg" ng-click="cancel()">Salir</button>
    </div>
</script>

<script type="text/ng-template" id="frmOrdenesZunchado.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Ordenes Zunchado</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin text-center">
            <div class="form-inline">
                <div class="form-group">
                    <label>OV</label>
                    <input class="form-control input-lg"
                           ng-click-select
                           ng-model="filtro_ov"
                           placeholder="Ingrese OV..."
                           type="text">
                </div>
                <div class="form-group">
                    <label>OP</label>
                    <input class="form-control input-lg"
                           ng-click-select
                           ng-model="filtro_op"
                           placeholder="Ingrese OP..."
                           type="text">
                </div>

                <button type="button" class="btn btn-mdc" ng-click="limpiar_filtros()" title="Limpiar Filtros">
                    <i class="fa fa-paint-brush"
                       style="font-size: 29px;"></i>
                </button>
            </div>
        </div>
        <hr />
        <div class="row no-margin">
            <div ng-repeat="item in listOrdenesZunchado
                  | filter : { orden_venta : filtro_ov }
                  | filter : { orden_produccion : filtro_op }">
                <div class="col-md-3">
                    <div class="info-box box-orden-asignada-maquina">
                        <div class="info-box-icon bg-avatar-operario-gestion-etapa" style="height: 172px;padding: 6px;">

                            <div class="btn-group-vertical">
                                <button class="btn btn-default"
                                        ng-click="open_despiece(item)"
                                        style="width: 80px; height: 80px;">
                                    <img src="./Assets/img/ico-cortar.png" style="width: 58px;height: 55px;" />
                                </button>
                                <button class="btn btn-info btn-circle"
                                        ng-click="show_detalle_gestion_op(item)"
                                        style="width: 80px; height: 80px;">
                                    <i class="fa fa-info" style="font-size: 42px;"></i>
                                </button>
                            </div>
                        </div>
                        <div class="info-box-content"
                             ng-click="orden_selected(item)"
                             style="min-height: 172px;">
                            <span class="info-box-texto-principal">OV {{item.orden_venta}}</span>
                            <span class="info-box-texto-principal">OP {{item.orden_produccion}}</span>
                            <span class="info-box-texto-simple">{{item.referencia_producto}}</span>
                            <span class="info-box-texto-simple">{{item.cliente}}</span>

                            <i class="fa fa-certificate indicador_op_garantia"
                               ng-show="item.sw_garantia"
                               uib-tooltip="OP de Garantia"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>

                            <i class="fa fa-clock-o indicador_op_extra_laboral"
                               ng-show="item.sw_op_extra_laboral"
                               uib-tooltip="OP Extra Laboral"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>

                            <i class="glyphicon glyphicon-flash indicador_op_express"
                               ng-if="item.sw_op_express"
                               uib-tooltip="OP Express"
                               tooltip-placement="right"
                               tooltip-trigger="mouseenter"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-defaut font-size-button btn-lg"
                ng-click="cancel()"
                type="submit">
            Cancelar
        </button>
    </div>
</script>

<script type="text/ng-template" id="frmDetalleTRProducto.html">
    <div class="modal-header text-center">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title font-madecentro" style="font-weight: 600;">Detalle solicitud traslado(TR)</h4>
    </div>
    <div class="modal-body">
        <div class="row no-margin">

            <div class="panel panel-default" ng-repeat="solicitud in list_solicitudes">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        {{solicitud.co_bodega_salida}}-{{solicitud.d_centro_operacion_salida}} | Estado: {{solicitud.d_estado_solicitud_traslado}} | TR: {{solicitud.nro_documento_transferencia || 'Sin Asignar'}} | {{solicitud.fh_solicitud | toMomentDateTime}}
                    </h3>
                </div>
                <div class="panel-body">
                    <table class="table table-striped table-condensed table-bordered"
                           style="font-size: 12px;">
                        <thead>
                            <tr>
                                <th>Referencia</th>
                                <th>Descripción</th>
                                <th>Cantidad Solicitada</th>
                                <th>Cantidad Aprobada</th>
                                <th>Cantidad Enviada</th>
                                <th>Cantidad Recibida</th>
                                <th class="text-uppercase text-center"><span>detalle envios</span></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in solicitud.list_dt_referencias_solicitud">
                                <td>{{item.referencia}}</td>
                                <td>{{item.descripcion_referencia}}</td>
                                <td>
                                    {{item.cantidad_solicitada | number:2}}
                                </td>
                                <td>
                                    {{item.cantidad_aprobada | number:2}}
                                </td>
                                <td>
                                    {{item.cantidad_enviada | number:2}}
                                </td>
                                <td>
                                    {{item.cantidad_recibida | number:2}}
                                </td>
                                <td>
                                    <table class="table table-condensed">
                                        <thead>
                                            <tr>
                                                <th>adjunto envio</th>
                                                <th>fecha envio</th>
                                                <th>envio parcial</th>
                                                <th>cant. enviada</th>
                                                <th>cant. recibida</th>                                                
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="rec in item.dt_envios_referencia">
                                                <td>
                                                    <a ng-href="{{url_base_server + rec.url_archivo_envio}}"
                                                       ng-show="rec.url_archivo_envio != null"
                                                       target="_blank">
                                                        <i class="botonesMadecentro redondear fa fa-file-pdf-o fa-3x" style="font-size: 2em;"></i>
                                                    </a>
                                                </td>
                                                <td>{{rec.fh_envio | toMomentDateTimeNum}}</td>
                                                <td>
                                                    <input disabled
                                                           ng-model="rec.sw_envio_parcial"
                                                           style="transform: scale(1.5); cursor: pointer;"
                                                           type="checkbox">
                                                </td>
                                                <td>{{rec.cant_enviada | number:2}}</td>
                                                <td>
                                                    <span>{{rec.cant_recibida | number:2}}</span>
                                                </td>                                                
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <!--<table class="table table-striped table-condensed table-bordered"
                           style="font-size: 14px;">
                        <thead>
                            <tr>
                                <th>Referencia</th>
                                <th>Descripción</th>
                                <th>Fecha Solicitud</th>
                                <th>Bodega Origen</th>
                                <th>Bodega Destino</th>
                                <th>Cantidad Pedida</th>
                                <th>Cantidad Enviada</th>
                                <th>Cantidad Recibida</th>
                                <th>Cantidad Faltante</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in listDetalleTRProductos">
                                <td>{{item.referencia_producto}}</td>
                                <td>{{item.descripcion_producto}}</td>
                                <td>{{item.fh_solicitud | toMomentDateTime}}</td>
                                <td>{{item.d_bodega_origen}}</td>
                                <td>{{item.d_bodega_destino}}</td>
                                <td>
                                    {{item.cantidad | number:2}}
                                </td>
                                <td>
                                    {{item.cantidad_real_enviar | number:2}}
                                </td>
                                <td ng-class="{'tr-sin-recepcion' : item.cantidad != 0 && item.cantidad_real_recibida != item.cantidad,
                                           'tr-recepcionado' : item.cantidad != 0  && item.cantidad_real_recibida == item.cantidad}">
                                    {{item.cantidad_real_recibida | number:2}}
                                </td>
                                <td ng-class="{'tr-sin-recepcion' : item.cantidad != 0 && item.cantidad_real_recibida != item.cantidad,
                                           'tr-recepcionado' : item.cantidad != 0  && item.cantidad_real_recibida == item.cantidad}">
                                    {{item.cantidad - item.cantidad_real_recibida | number:2}}
                                </td>
                            </tr>
                        </tbody>

                    </table>-->
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-mdc font-size-button" ng-click="cancel()" type="submit">Salir</button>
    </div>
</script>